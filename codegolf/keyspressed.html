<!doctype html>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, user-scalable=no">
<html>
<head>
<link rel=stylesheet href="../style.css?v=4">
<title>Maxime Euzi√®re</title>
</head>
<body>

<div class="wrapper">

<header></header>

<div id=menu></div>

<main>

<div class=section id=keypressed>
	<h2>Keys pressed</h2>
	<h3>September 2013 - january 2022</h3>
	<p>A way to know at any moment if a key is being pressed, in just 44 bytes.</p>
	<pre><code class="lang-js">k={};onkeydown=onkeyup=e=>k[e.key]=e.type[5]</code></pre>
	<p>
    To use it, test k[n] (where n is the name of a keyboard key. Ex: "a", "A", "1", ".", "Space", "Control", etc).
    <br>
    k[n] is truthy when the key is pressed, and falsy when it's not pressed (or has been released).
    <br>
    <br>
    <b>Source code</b>
  <br>
  <pre id=source_touchesfoncees><code class="lang-js">// Initialize the global k (the array representing the keys currently pressed).
// Also works with k = [].
k = {};

// Add two event handlers to the window object:
// window.onkeydown and window.onkeyup.
// They don't need the "window." prefix (it's implicit)
// And they both get the same callback function
onkeydown = onkeyup = function(e){

  // On keydown, e.type == "keydown", and e.type[5] == "w" (truthy)
  // On keyup, e.type == "keyup", and e.type[5] == undefined (falsy)
  // !! converts e.type[5] to a boolean. It can be removed but it's a little dirtier.
  // e.key can be replaced with e.keyCode (in that case, each key is mapped to a given number)
  
  k[e.key] = !!e.type[5];

}</code></pre>
  <br>
  <br>
  <b>Demo:</b> k is displayed below. Press any key to see it change.
    <script>
      k={};onkeydown=onkeyup=function(e){console.log(e);k[e.key]=!!e.type[5];demo_touchesfoncees.innerHTML="k = "+JSON.stringify(k,null,2) + ""}
    </script>
    <div class=demo><pre id=demo_touchesfoncees><code class="lang-js">k = { }</code></pre></div>
  </p>
</div>

</main>

</div>

<footer></footer>

<script src="../ui.js"></script>
<script>
header();
footer();
menu();
</script>

</body>
</html>