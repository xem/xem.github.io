<!doctype html>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, user-scalable=no">
<html>
<head>
<link rel=stylesheet href="../style.css?v=4">
<title>Maxime Euzi√®re</title>
</head>
<body>

<div class="wrapper">

<header></header>

<div id=menu></div>

<main>

<div class=section id=binaryoperations>
  
	<h2>Binary operations</h2>
	<h3>September 2012</h3>
	<p>
		Binary operations in JavaScript are a trap. I wrote a wtfjs post about this. (<a href="https://wtfjs.com/wtfs/2012-09-19-Hexadecimal-weirdness" target=_blank>link</a>)
		<br>
    So I wrote a 137 bytes lib allowing to do "left shifts", "right shifts", and extracting some bits from a number, safely.
    <pre><code class="lang-js">M=Math // Math alias
function l(a,b){return a*M.pow(2,b)} // Left shift
function r(a,b){return M.floor(a/M.pow(2,b))} // Right shift
function b(a,b,c){return r(a,b)&M.pow(2,c-b+1)-1} // Bit extraction</code></pre>

  <p><b>2022 update</b>: ES6 version (73 bytes)

<pre><code class="lang-js">l=(n,o)=>n*2**o // Left shift
r=(n,o)=>~~(n/2**o) // Right shift
b=(n,o,a)=>r(n,o)&2**(a-o+1)-1 // Bit extraction</code></pre>

  <p><b>Source code</b>:
  <pre id=source_binaire><code class="lang-js">// M is a shortcut for Math
M = Math;

// Left shift
// a << b is equivalent to a * (2 ^ b)
function l(a,b){
  return a * M.pow(2, b);
}

// Right shift
// a >> b is equivalent to a / (2 ^ b)
function r(a,b){
  return M.floor(a / M.pow(2, b));
}

// Bit extraction
// returns a's bits from b to c
// i.e. the last (c - b + 1) bits of (a >> b)
function b(a,b,c){
  return r(a,b) & M.pow(2, c - b + 1) - 1;
}</code></pre>
</div>

</main>

</div>

<footer></footer>

<script src="../ui.js"></script>
<script>
header();
footer();
menu();
</script>

</body>
</html>