<!doctype html>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, user-scalable=no">
<html>
<head>
<link rel=stylesheet href="../style.css?v=2024-07">
<title>Maxime Euzière</title>
<base target=_blank>
</head>
<body>

<style>
.twitter-tweet { margin: 30px 0 !important; border: 3px solid #ccc; border-radius: 30px; overflow: hidden; transform: scale(.95)}
ul { padding-left: 15px }
</style>

<div class="wrapper">

<header></header>

<div id=menu></div>

<main>

<div class=section id=codegolfctober18>

<h2>JS13kGames 2020: Track not Found ?!</h2>
<h3>August-September 2020</h3>

<br>
<hr>
<br>

<img src="images/js13k20/big.png">
<ul>
<li><a href="https://js13kgames.com/entries/track-not-found">Play the game</a>
<li><a href="https://github.com/xem/track-not-found">Github repo</a>
<li><a href="https://js13kgames.com/#winners">Results</a>: #2 in <a href="https://twitter.com/js13kGames/status/1316395631368450058">innovation</a>, #3 on Mobile, #4 Overall and #7 in WebMonetization category!
</ul>

<br><hr><br>

<h4>Similar projects</h4>
<p>If you discover my work today, here are my latest notable code-golfed / CSS3D / emoji projects that you may also like:</h4>
<ul>
<li><a href="https://js1k.com/2017-magic/demo/2794">Can I haz 1Karrot?</a> (js1k 2017)
<li><a href="https://js13kgames.com/entries/lossst">LOSSST</a> (js13kgames 2017)
<li><a href="https://js1k.com/2018-coins/demo/3003">SN1KE</a> (LOSSST demake, js1k 2018)
<li><a href="https://js13kgames.com/entries/geoquiz-2">Geoquiz 2</a> (js13kgames 2018)
<li><a href="https://js1k.com/2019-x/demo/4007">Emojysics!</a> (js1k 2019)
<li><a href="https://js1k.com/2019-x/demo/4066">Peach1Kastle</a> (js1k 2019)
<li><a href="https://js1k.com/2019-x/demo/4139">MiniTwo3D</a> (js1k 2019)
<li><a href="https://js1k.com/2019-x/demo/4269">Mini Riding Light</a> (js1k 2019)
<li><a href="https://js1k.com/2019-x/demo/4182">Mini Mandelbox</a> (js1k 2019)
<li><a href="https://js13kgames.com/entries/back-on-track-mania">Back on track (mania)</a> (Trackmania demake, js13kgames 2019)
<li><a href="https://itch.io/jam/2kplus-jam/rate/578133">Shift 2k20</a> (Shift demake, 2kplus jam 2020)
</ul>

<br><hr><br>

<h4>Before the jam</h4>

<p>This year, I didn't prepare a list of ideas and didn't create new tools before the start of the compo.
<br>I wanted to create everything between August 13th and September 13th.
<br>Three of my tools from the previous years have been updated though:
<ul>
<li><a href="https://github.com/xem/emoji">Emoji</a>, my cross-browser build of Twitter's Twemoji webfont, useable as fallback in any js13k entry.
<li><a href="https://github.com/xem/terser-online">Terser-online</a>, my online ES6 minifier that received many great UI/UX contributions on Github in the last few months.
<li><a href="https://github.com/xem/GameAudioBundleMP3">GameAudioBundleMP3</a> now contains a folder with all the sound effects &lt; 13kb, in different qualities (128 / 96 / 48kbps). 
<li><a href="https://github.com/xem/css3dframework">CSS3Dframework</a> got cleaned up and received more features. 
</ul>
<br>
<p>Besides that, I wrote a recap of all the tips, tricks and traps that I learned during the last 6 years of JS13kGames.
<br>You can read it <a href="">here</a> as a Twitter thread, or <a href="https://threadreaderapp.com/thread/1287378754172485633.html?refreshed=1599891868">here</a> unrolled.

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Thread of tips and tricks for your next <a href="https://twitter.com/js13kGames">@js13kGames</a> entry (2020 edition starts on august 13th, lasts 1 month, and has a theme, a jury and awesome prizes to win) 🤠</p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1287378754172485633">July 26, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<br>
<details>
<summary>Unroll</summary>
<iframe src="https://threadreaderapp.com/thread/1287378754172485633.html?refreshed=1599891868" height=600></iframe>
</details>
<br>
<p>Until the start of the compo, I've been working on my <a href="https://xem.github.io/articles/webgl-guide.html">WebGL guide</a>, but didn't end up using this language for my 2020 entry.
<br>
<p>I also made a new speedrun of my 2016 entry <b>Super Chrono Portal Maker</b> <a href="https://twitter.com/MaximeEuziere/status/1289180153520611329">in this thread</a>.
<br>
<p>When the compo started, I tweeted daily updates in a <a href="https://twitter.com/MaximeEuziere/status/1293990088347615232">Twitter thread</a>, that I will explain in detail in this making-of.

<p>Let's go!

<br><br><hr><br>

<h4>Days 1 - 3: brainstorming</h4>

<p>The competition started on a thursday, so I decided to take the end of the week to think about ideas that could fit the theme <b>404</b>, and get started the next monday.
<p>On day 1, I prepared my working folder (it's important):

<blockquote class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/JS13k?src=hash&amp;ref_src=twsrc%5Etfw">#JS13k</a> 2020 day 1: it&#39;s something.<br>(I actually have some ideas) <a href="https://t.co/vMl2F2VlhU">pic.twitter.com/vMl2F2VlhU</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1293990088347615232">August 13, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I also imagined a kind of adventure game where all the graphics would be replaced by placeholder images like the ones that browsers display when they can't find a file...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">So my game could be some kind of big joke where every asset ends up being shown as a broken image...<br>Title screen prototype<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/1Vw9XzaG15">pic.twitter.com/1Vw9XzaG15</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1293997138377089025">August 13, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>... but it didn't inspire me enough.
<br>
<br>Moreover, <a href="https://js13kgames.com/entries/oh-no-all-the-textures-are-404">a nice entry</a> used a similar concept, so no regrets!
<br>
<br>One thing was sure: I really wanted to make a game that uses Emoji.
<br>Though, I remembered all the problems I had in 2018 when I wanted to use Emoji flags in my game <a href="http://js13kgames.com/entries/geoquiz-2">Geoquiz 2</a>, so I decided to solve that first. I tried <a href="https://twitter.com/MaximeEuziere/status/1294011011331239937">many approaches</a>, but none of them was satisfying, until <b>Lance Erwing</b> kindly pointed me to the Twemoji webfont built by Mozilla, that actually worked seamlessly on every browser... (except Safari, which doesn't seem to accept any form of color Emoji webfont :/)

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 3:<br>Thanks to <a href="https://twitter.com/lance_ewing">@lance_ewing</a>, I found a better version of Twitter&#39;s Emoji webfont, built by Mozilla, which seems to work everywhere. And it&#39;s much smaller than the previous ones (1.2Mb vs 9Mb)!<br><br>Here&#39;s the updated emoji resource:<a href="https://t.co/bPnorv3YSr">https://t.co/bPnorv3YSr</a> <a href="https://t.co/dMl4MJPhuE">pic.twitter.com/dMl4MJPhuE</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294552111276068864">August 15, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>For my game, I was actually torn between my desire to make a chill game (à la Animal Crossing, where the world would be full of living emoji) and a puzzle game. So I made a poll...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Now, back to my entry!<br><br>(I needed to have this emoji stuff sorted out before continuing 🤓)<br><br>It&#39;ll be either a puzzle game, or a relaxing game à la Animal Crossing.<br><br>What do you prefer?<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294359779981303809">August 14, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>... and, hum, by lack of interesting ideas, <a href="https://twitter.com/MaximeEuziere/status/1294930121376370689">I didn't listen the results</a> and decided to make a puzzle game anyway 🙃.
<br><br>(Many other entries consist of chilling / playing in a world made of emoji, so once again, no regrets!)
<br>
<br>And just before the end of the week-end, I finally found my idea, by scribbling on a notepad in my garden!

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">I&#39;m at the same place and with the same notepad as 2017 when I got the idea of LOSSST. Time to scribble and find a fun game to make 💪<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/uv5w8PUPYN">pic.twitter.com/uv5w8PUPYN</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294616006233595906">August 15, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>In exclusivity, here are the three pages of notes I wrote that day.
If you played the game already, you should recognize the first levels, plus some elements that never made it in the final game:
<br>
<br>

<a href="images/js13k20/scribble.jpg"><img src="images/js13k20/scribble.jpg"></a>
<br>(click to enlarge)

<p>I wanted to make a game about perspective for a long time, and it was the right moment to do it!
<p>Of course, a lot of inspiration came from the fantastic indie games <a href="http://fezgame.com/">FEZ</a> and <a href="https://www.ustwogames.co.uk/">Monument Valley 1 and 2</a>,<br>even though I wanted to revisit the idea in my onw way, and try new angles.

<p>At this moment though, my main concern was to find a way to represent a 3D locomotive... out of an emoji. 🚂
 
<br>This requirement alone got me busy for a couple days!

<h4>Days 4 - 6: inventing the volumetric emoji™ </h4>

<p>I started by updating my CSS3D framework to make it display shaded faces, and started working on a little scene with a track and a (flat) train emoji:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 4: I updated my CSS3D mini-framework to remove useless stuff, improve the doc, and add support for optional &quot;shaded&quot; cubes and pyramids (via different face colors):<br><br>&gt; <a href="https://t.co/qDYNiq7x9s">https://t.co/qDYNiq7x9s</a><br><br>In the GIF below:<br>- The new website&#39;s demo<br>- The Bob-omb demo<br>- My <a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> WIP... :p <a href="https://t.co/H1Cl1JPIZI">pic.twitter.com/H1Cl1JPIZI</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294926785243742210">August 16, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>I was curious to see how it would look if I stacked a dozen similar emoji like a sandwich. It turned out very well... except when it's seen from the side.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Did I just invent volumetric emoji?<br>...<br>No, I just stacked a dozen 🚂 emoji and hoped for the best. the trick is apparent when the camera is behind the vehicle.<br>The result is oddly satisfying though, on the other angles!<br><br>(also, I loaded the Twemoji Webfont)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://twitter.com/hashtag/css3d?src=hash&amp;ref_src=twsrc%5Etfw">#css3d</a> <a href="https://t.co/tChsBMFUnH">pic.twitter.com/tChsBMFUnH</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294962861744304129">August 16, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>To avoid seeing the gaps in the middle of the shape and give it a bit more volume, I decided to fill it with three cuboids (representing the body, chimney and cabin of the locomotive):

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Re: Volumetric emoji:<br><br>I wanted to let my camera see the locomotive in every angle (front, back, top...) without the annoying flat layers.<br>So I filled it with 3 cuboids (1 red, and 2 greys).<br>This gif shows the cuboids, then the full shape (cuboids+emoji).<br>It&#39;s better. 🤓<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/JscRRaNpQA">pic.twitter.com/JscRRaNpQA</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1294973820139339777">August 16, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>It was becoming interesting but something was still wrong: the pile of emoji at the center of the locomotive didn't look right, so I removed them completely, and instead, represented the interior with a few more 3D shapes (4 cuboids and 3 colored planes), while keeping the emoji for the front face and the back face only, like an ice-cream sandwich:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 5:<br>I wasn&#39;t totally happy with the multi-layer emoji, so here&#39;s a new approach: &quot;ice cream sandwich emoji&quot;:<br>1) Place 2 emoji (front face + back face).<br>2) Fill the space in-between with colored cubes/planes that resemble the emoji.<br>(1/2)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/VoJLt4TUhg">pic.twitter.com/VoJLt4TUhg</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295355708167290883">August 17, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<h4>In the meantime: a title screen is born!</h4>

<p>I was so satisfied with the camera movement I had implemented around my vehicle (even though it was pretty simple: a constant rotation around the vertical Z axis, and a sinusoidal rotation around the horizontal X axis), that I decided to add some emoji trees, emoji shadows (<a href="https://twitter.com/MaximeEuziere/status/904257442506313728">invented in 2017</a>), animate everything...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Playing with CSS to make the rails and trees scroll and the camera move around in a big infinite loop...<br>It could be the beginning of something interesting!😊<br>(The trees are not volumetric btw, they&#39;re programmed to always face the camera)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a><br>too late <a href="https://twitter.com/hashtag/screenshotsaturday?src=hash&amp;ref_src=twsrc%5Etfw">#screenshotsaturday</a> <a href="https://t.co/wN7GfmYkdA">pic.twitter.com/wN7GfmYkdA</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295076046514130944">August 16, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>...and use it as my game's title screen:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 6:<br><br>Let&#39;s use this as the title screen and move on to the gameplay (quick prototype first, I hope it works)!<br><br>NB: the GIF doesn&#39;t show the green gradient properly :(<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/cMHp7QnfvZ">pic.twitter.com/cMHp7QnfvZ</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295662069954613248">August 18, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>An interesting trick about this scene is that it's as far from an infinite ride as you can imagine:
<ul>
<li>The train is fixed
<li>The metallic rails are fixed
<li>The ground (with a green gradient) is fixed
<li>Even the camera is fixed (in CSS3D there's no camera, it's the whole scene that rotates on itself)
<li>The trees are placed around the train and scroll from front to back using a 9-second repeating CSS animation
<li>The wood pieces between the rails also scrolls using a 0.9-second CSS animation
</ul>

CSS code:
<br>
<pre class=lang-css><code>@keyframes tree {
  0% {left: 600px;}
  100% {left: -600px;}
}

@keyframes wood {
  100% { left: 30px center; }
}

.wood { position: fixed; animation: wood .9s infinite linear; }</code></pre>
<br>

<p>If you look at it from far away, you can see how fixed it really is:
<br>
<br>

<img src="images/js13k20/css3d42.gif">

<br>
<p>Avoiding to spawn CSS3D elements continuously was a size optimization, but also a performance optimization, as browsers prefer having as few CSS3D complexity to handle as possible.
<br>This is why I made another optimization, that consists in hiding all the cube faces that are never seen by the camera:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Notes about the GIF above:<br>- Emoji shadow trick: emoji almost transparent + CSS text-shadow<br>- CSS3D optimization: all the cubes&#39;s faces that are never visible are removed.<br>- Total divs in this scene, thanks to the looping track and trees: 180 (before optimization: 293)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/imKp6Qwf8y">pic.twitter.com/imKp6Qwf8y</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295360654468173824">August 17, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>And I also replaced all the wood pieces between the rails with a single flat div, on which I applied a linear gradient to alternate between orange and transparent:

<br>
<br>Updated CSS code:
<br>
<pre class=lang-css><code>@keyframes wood {
  100% { background-position: -100% center; }
}

@keyframes wood {
  100% { left: 30px center; }
}

.woods { 
  position: fixed;
  animation: wood .9s infinite linear;
  background: linear-gradient(90deg, #ca0, #ca0 50%, rgba(255,255,255,0) 50%);
}</code></pre>

<p>In the end, this title screen only required 79 divs and 2.16kb zipped.
<br>Even the interior of the train lost many more divs to finally look like this (14 faces, plus the front and back emoji not shown here):
<br>
<br>

<img src="images/js13k20/interior.png" width=500>

<br>

<p>Let's start the game engine! But first, a minimal setup for my puzzles:<br>Two hills, a river, a bridge made of eight 100px-long chunks, and a little bit of interactivity, with our locomotive accelerating forwards or backwards with the press of two keys, X and C.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">The train is controllable. Let&#39;s cross some bridges!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://twitter.com/hashtag/wip?src=hash&amp;ref_src=twsrc%5Etfw">#wip</a> <a href="https://t.co/t8yI1qZB2o">pic.twitter.com/t8yI1qZB2o</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295704179294568448">August 18, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


<h4>Days 7 - 10: playing with perspective</h4>

<p>So I directly started with the main mechanic of my game: switching perspective. More precisely, make the camera transition between a 3D view and a 2D isometric view, in order to make elements placed at different depths look aligned.
<br><br>Note the addition of grey pillars below each chunk. They're here to prevent them from "flying", but more importantly, they help the player to evaluate how high / how far from the camera each chunk really is, which is in my opinion an important hint for a game displayed on a 2D screen.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 7: the problems begin<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/oakmayUtsL">pic.twitter.com/oakmayUtsL</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1295980011594428423">August 19, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>By chance, I had already experimented this perspective shift in 2017 while preparing my js13k entry <a href="https://js13kgames.com/entries/lossst">LOSSST</a>, so I knew it was doable...
<br>by cheating a little.

<blockquote class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/screenshotsaturday?src=hash&amp;ref_src=twsrc%5Etfw">#screenshotsaturday</a> first steps of a kind of 2Diso/3D editor for next <a href="https://twitter.com/hashtag/js13kgames?src=hash&amp;ref_src=twsrc%5Etfw">#js13kgames</a>. Powered by CSS3D of course!<br>56 days left :D <a href="https://t.co/arCzinMEH3">pic.twitter.com/arCzinMEH3</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/876077765916860416">June 17, 2017</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>The cheat is that it's not a REAL isometric view. Instead, I push the perspective so far away that everything becomes seemingly flat.
<br><br>I had to proceed like that in order to have smooth transitions between the two views.
<br>Indeed, CSS can transition the viewport from "perspective: 400px" to "perspective: 6000px", but not between "perspective: 400px" to "perspective: none", except if you encode the perspective in every CSS3D element of the scene, which is not worth the effort.

<br><br>For more info about CSS3D and perspective, take a look at <a href="https://xem.github.io/articles/css3dgames.html">my CSS3D gamedev tutorial</a> or <a href="https://css-tricks.com/how-css-perspective-works/">this great CSS3D article</a> published during the last week of the compo.
<br><br>This transition is also the main reason why I didn't end up using WebGL for my entry: I knew how to make 3D and isometric 2D in WebGL but not how to transition properly between the two.
<br><br>My other arguments against WebGL were the difficulty to display text and emoji on the screen, and the impossibility to edit / debug my scene in real time in the DOM inspector.

<p>Anyway, in my first puzzle, this worked like a charm.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 8: the perspective mechanic seems to work!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/34w6JawoCH">pic.twitter.com/34w6JawoCH</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1296354054784921600">August 20, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>If I wanted to make many more puzzles, I had to define a convenient data format.
<br>For each camera configuration, this format would tell which chunks of bridge are connected to each other:


<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Imagine the train is on the chunk n°1.<br>If it goes left, it&#39;ll go on the chunk n°0, either in 2D or in 3D.<br>But if it goes right, it depends:<br>- In 3D: it falls in the river.<br>- In 2D: it goes on chunk n°3 (and its Y is updated!)<br>The code I wrote represents this double view.<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/1w0qTC2fCL">pic.twitter.com/1w0qTC2fCL</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1296788505788653569">August 21, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>But let's pause for a second on the depth hack shown above:
<br>
<br>
<img src="images/js13k20/323.gif">
<br>
<br>As you can see in tis GIF (and in the game), when the camera is in 2D, the train seems to have an undefined Y coordinate, in other words, you can't see how far from the camera it really is.
<br>It's only when we quit the 2D view to see the scene with perspective, that the train gets a proper depth, either at Y = 0 or Y = -100, depending of which chunk it is currently placed.
<br>
<br>Interestingly, this behavior has similarities with quantum mechanics, where the real state of a particle becomes fixed at the moment where we observe it.
<br>Of course, in terms of code, it's easier than that, and as I stated in the previous tweet, the solution was to update the Y coordinate of the train as soon as a 3D switch is requested.
<br>
<br>But more interestingly, working on this effect reminded me a document written by the creator of FEZ (impossible to find today), where he faced the same situation every time the camera moved in his game engine.
<br>It forced him to make complex computations and develop various techniques to always "project" the character at a convenient position in both 2D and 3D spaces at each transition.
<br><br>Similarly, I also found behind-the-scenes images of the game Monument valley a few years ago, showing that every impossible perspective shown in the game was actually an illusion created by the developers, and that many items teleportations were actually necessary to make the whole scene look coherent. I found these illustrations very interesting and a lot of situations I faced during the development of my engine reminded me of them:

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">“The magic behind ustwo Games&#39; Monument Valley.” <a href="https://twitter.com/ustwogames">@ustwogames</a> <br><br>Read More: <a href="https://t.co/FDTPLFWzeX">https://t.co/FDTPLFWzeX</a><a href="https://t.co/hh5oguhabf">https://t.co/hh5oguhabf</a> <a href="https://t.co/gF3h4kYy2N">pic.twitter.com/gF3h4kYy2N</a></p>&mdash; The Logo Smith (@thelogosmith) <a href="https://twitter.com/thelogosmith/status/1037334495073116164">September 5, 2018</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>So, this marked the end of the first week of development.
<br>The end of week one also meant that it was time to split my monolithic, 17kb index.html into many files:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Like every year, the end of the first week of the jam seems to be the right time to clean up my project&#39;s folder, remove all dead/temp code, add comments, divide the project in multiple files... (total 17kb)...<br>Because the hard part begins now (compute 2D/3D collisions)!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/2HgLg6qNDL">pic.twitter.com/2HgLg6qNDL</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1296430685763375104">August 20, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h4>Day 11 - 13: playing with angles</h4>

<p>I knew my game would allow the player to rotate the camera up, down, left and right, with 45 degrees increments.
<br>I wanted to have this freedom to differentiate my game from the games that inspired it (FEZ and Monument valley), which only allow left and right rotations with 90 degrees increments.
<br><br>In both 2D and 3D views, the camera can be at 5 different heights (top, middle-top, middle, middle-bottom, bottom) and for each height, it can be in 7 different angles (front, front-left, left, left-back, back, back-right, right, right-front).
<br>As a result, the camera can be rotated in 2 x 5 x 7 = 70 different ways.
<br>However, the 7 "top" views and the 7 "bottom" views are pretty much the same, so we can say that the real number of different views is 2 x (3 x 7 + 1 + 1) = 46.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 11: [SPOILERS]<br>After a weekend of coding, I finally managed to implement the camera controls I wanted.<br>The camera will switch from 2D to 3D, but it will also be able to rotate up, down, left and right with 45° increments.<br>In total, that&#39;s 46 different camera positions!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/K5gDsW8jrY">pic.twitter.com/K5gDsW8jrY</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1297618284322394113">August 23, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>I had to adapt my data format to this new mechanic: instead of storing the links between chunks for the <s>48</s> 46 different camera positions, I defined a "default" links list, and only overwrite it with custom links for each camera position where two chunks or more become aligned. 

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 12<br>Remember when I showed how I store the links between chunks of road in 2D &amp; 3D?<br>Now that the camera can be in 48 different positions, it needs to be smarter: one &quot;default&quot; view for every unremarkable position, and a couple custom ones where the rails align properly<a href="https://twitter.com/hashtag/hs13k?src=hash&amp;ref_src=twsrc%5Etfw">#hs13k</a> <a href="https://t.co/p8NvdZRZ2m">pic.twitter.com/p8NvdZRZ2m</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1297969258295631874">August 24, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>In the meantime, I improved my scenery to take these new camera features into account: the hills are now volumetric (made of five slanted/skewed divs), and the river and hillsides are invisible when the camera is in low angle.
<br><br>At first, I used the native CSS property "backface-visibility: hidden" to do that, but the poor browser support finally made me  replace it with custom definitions of "opacity: 0" / "opacity: 1" depending on the camera's vertical angle.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 13<br>Behind the scenes<br>- Rails aren&#39;t very long (to reduce the div count)<br>- Hills on each side of the river are actually slanted cuboids with no bottom (front &amp; back planes are skewed in CSS)<br>- River &amp; hillsides use backface-visibility:hidden (to be invisible from below)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/EEh6C9bAPC">pic.twitter.com/EEh6C9bAPC</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298232483524349952">August 25, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>A quick look at the size before attacking the other puzzles?

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">A quick size check ?<br>- Commented source code: 32.6kb.<br>- Minified: 19.1kb.<br>- Zipped: 5.21kb.<br><br>Remaining work:<br>- Complete / fix the game engine (~75% done)<br>- Create a couple new assets (different types of rail chunks)<br>- Make nice levels 😱<br>- Add music and sound<br>- Polish<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1297983872399966211">August 24, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<h4>Days 14 - 18: fixing new problems with each new puzzle</h4>

<p>As explained before, when the train moves between two chunks of track that seem aligned, it needs to instantly "teleport" on each chunk, and potentially update its height or depth.
<br>Or so I thought...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">If you look closely, there&#39;s an issue that I kind of expected during the scribble phase: when the train is teleported on a track piece further than the previous one, it suddenly appears below the track...<br><br>There are maybe 2 possible approaches to fix that...<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/5LqrGMoo9T">pic.twitter.com/5LqrGMoo9T</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298343138503909376">August 25, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>The problem is that when the train suddenly teleports further from the camera, it appears behind the neighbour chunks of track that are closer to the camera.
<br><br>At first I thought it could be fixed by cheating a little with the wood pattern between the rails...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">The first possible approach consists in stopping the wood pieces earlier, so they never appear on top of the train.<br>It would produce something a bit like this, and honestly it really doesn&#39;t look nice...<br>The gaps and the train&#39;s jumps are still too visible.<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/9hTkS8Wzc9">pic.twitter.com/9hTkS8Wzc9</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298343141452521473">August 25, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>But I was wrong, this approach didn't look good, and moreover, it didn't fix most of the cases where the camera is placed in a 45° angle.
<br><br>So I had to cheat, but in a good way: I made the train appear at a nice position at all costs, even if it meant that I had to make it fly in the air.
<br><br>I called that a <b>virtual position</b>: when a virtual position is available, the train will behave as if it was on the chunk, but the game engine draws it at another position, closer to the camera, in order to make the optical illusion work.
<br><br>More info in the GIF below:

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">The gif below shows:<br>=&gt; The problem, seen from above<br>&lt;= The problem, seen from a different angle<br>=&gt; The new solution, seen from above (yay! looks nice!)<br>&lt;= The new solution, seen from a different angle (see? the train &quot;flies&quot; to avoid glitching below the track!)<br>Woohoo!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/oeQdqmYUhh">pic.twitter.com/oeQdqmYUhh</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298359096828190720">August 25, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>I was really happy to find this "virtual position" trick, because even if it needed an extra effort during the level design phase, it was really stunning visually and could make something impossible, just work.
<br><br>It was not yet the end of my problems though. First, I had to handle the fact that the train had to quit its virtual position and "fix" itself to a real chunk as soon as a camera movement was requested...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Yes but... if the player stops the train on that exact chunk and moves the camera? Then they&#39;ll see the train flying, and that&#39;s not good!<br><br>Solution: when a camera move is requested, re-place the train at the &quot;right&quot; height and not the &quot;virtual&quot; one, then move the camera!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/yDVn2Fwi6j">pic.twitter.com/yDVn2Fwi6j</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298363283418882048">August 25, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>Then, the other (and bigger) problem I faced was when I wanted to make optical illusions that work in 3D perspective too.
<br>In 3D, to make a chunk look like it fills a gap in the bridge, it needs to be further and bigger, or closer and smaller.
<br>In other words, the scale of the chunks would become a hint for where the camera should be placed to solve each puzzle: if a chunk is bigger or smaller than the rest of the track, the solution is in 3D; if it's the same size, the solution is in 2D.

<br><br>I really thought the hard part of my engine was nearly over at ths point...


<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 15:<br>Here&#39;s a new <a href="https://twitter.com/hashtag/spoiler?src=hash&amp;ref_src=twsrc%5Etfw">#spoiler</a> fot my entry: the scale!<br>Some track pieces can look bigger or smaller than the others, but in a certain 3D angle, everything will align perfectly!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://twitter.com/hashtag/wip?src=hash&amp;ref_src=twsrc%5Etfw">#wip</a> <a href="https://t.co/u5oqdRxjYS">pic.twitter.com/u5oqdRxjYS</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298860830604353541">August 27, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>...But not at all. What I hadn't anticipated is that in 3D, not only the scale, height and depth of the chunks would be altered to make an optical illusion, but also the horizontal position, X!


<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">A new problem that I hadn&#39;t anticipated just occurred on this level:<br>Until now, the train moved linearly from left to right, sometimes changing its Y (height) and Z (depth) coordinates.<br>But here, it&#39;s not enough: the chunk n°1 is bigger, further but also more on the left.<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/80mz23HSNo">pic.twitter.com/80mz23HSNo</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1299308446135857152">August 28, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>So to recap, this chunk has a virtual position perfectly aligned with the rest of the track, but a real position that is further, lower and more on the left.
<br>When we quit the 3D view, the train has to move to its real coordinates and scale (the position and scale of the chunk it's on), but how can it know what is its real X position on that chunk? The only thing it knew was its virtual, fake, X coordinate, but not where it gets projected on the real thing.


<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Solution:<br>- Consider all the horizontal train movements relative to the current chunk (for example, a percentage) instead of a global X coordinate, to keep it coherent during camera switches.<br>- Update the train&#39;s scale and speed when it&#39;s moved on a smaller or bigger chunk<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/lD8L29LuNl">pic.twitter.com/lD8L29LuNl</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1299318504064245761">August 28, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>So a big change had to be made in my engine. No more X coordinate. The only information that the train knew was which proportion of a chunk it had already crossed, from 0 to 100%.
<br>If it moves to 75% of the chunk in virtual position and then goes back to its real position because of a camera transition, then it'll need to be placed at 75% of the real chunk too.
<br>I was lucky to find this solution (after a few days of head-scratching), because otherwise, this could have been a showstopper issue!

<br><br>The biggest challenge was solved, but it didn't prevent specific edge cases from popping everywhere, like this one:
<br>What happens when the train has to quit a virtual position because of a camera movement, and needs to jump to a virtual position immediately in the new camera position?


<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Details:<br>It&#39;s not very hard to fix, but there are dozens of cases like this one (when going from 2D to 3D, when changing the angle, when going from a virtual position to a real one, etc) that often require a specific implementation, using more lines of code and dev time 😰<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/RmAfdntH3o">pic.twitter.com/RmAfdntH3o</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1300033752324808704">August 30, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>At the end of day 17, after putting all my special cases on paper and intense reflexion,  I finally found a clean, elegant and generic solution that I could use until the end of the development to handle all my teleportations, optical illusions, and transitions. Woohoo!
<br>And it wasn't even so complicated. It was just a matter of adjusting the train's position and scale at the correct values (virtual or real) depending on the state of the camera (before a transition / during a transition / after a transition).

<br><br>Here's a page of scribbles that led me to the solution:
<br><a href="images/js13k20/scribble2.jpg"><img src="images/js13k20/scribble2.jpg" width=350></a>
<br><br>

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Update: IT WORKS! 🥳<br>Seamless train repositioning/rescaling when jumping from a view to another. <a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/fxqwhn9YQu">pic.twitter.com/fxqwhn9YQu</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1300065972292902914">August 30, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


<p>As a side note, I wanted to show you how artisanal my level-making was. No maths, no fancy editor, everything was made in my CSS debugger, by moving my chunks pixel by pixel and scaling them percent by percent directly in-game (and that's the process that would have been much more complex to do in WebGL):


<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">By the way, do you think I use complex calculations or a fancy level editor to adjust the tracks in 3D like that?<br>Absolutely not. I do everything pixel by pixel in my browser&#39;s debugger (and still believe it&#39;s the way that saves the most time🤡)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/x0J9EMYYBd">pic.twitter.com/x0J9EMYYBd</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298875562694447109">August 27, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>While we're speaking of level design, I consider it as a big force, and at the same time, a big weakness of my game.
<br>I really wanted to surprise the player at each new level with a new mechanic to learn or a special event, because I know that most players will have very few time to test each game, and I didn't want them to miss cool things just because they happen later in the game (like the time travel and portal features of my 2016 entry <a href="https://js13kgames.com/entries/super-chrono-portal-maker">Super Chrono Portal Maker</a> or the mirrored and 3D puzzles of my 2017 entry <a href="https://js13kgames.com/entries/lossst">LOSSST</a>).

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Today I finally started producing the levels of my game... And scraping about half of them because they were interesting but a bit too redundant. Most players won&#39;t play my game more than 2 minutes, so I want them to have &quot;enough surprise&quot; at each new level... <a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1298972338814414848">August 27, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>So I scraped every little level that didn't bring something new to the game, even though they would have been helpful to consolidate the game's mechanics in the players' minds.
<br>Unfortunately, the feedbacks I got at the end of the jam confirmed that this "feature rush" was a bit too extreme, as a vast majority of players told me that the concept is great, but the difficulty curve is way too steep, especially at the level 6, where camera rorations are introduced... I definitely should have made it simpler :(

<br><br>To finish this week, here's a sneak peek at the improvements made in my scene so far and the debug mode where every chunk gets numbered:

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 16:<br>- Made the river wavy and wider (to leave more room for the puzzles)<br>- Made a bit of <a href="https://twitter.com/hashtag/procgen?src=hash&amp;ref_src=twsrc%5Etfw">#procgen</a> to place the trees on the hills without any overlap<br>- Added numbers on each part of the track to help the puzzle creation and debugging<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/dqiMzx3PCU">pic.twitter.com/dqiMzx3PCU</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1299250259915403265">August 28, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>Almost one half of my zip was already full!

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Gosh, it&#39;s already the end of week 3!<br>Let&#39;s clean up my code and crunch some numbers...<br>5 levels completed<br>Engine 90% finished<br>1315 lines of code<br>~40h of work<br>42.6kb commented (incl. 4.4kb of CSS, 0.7kb of HTML)<br>23.7kb minified (incl. 3.4kb of CSS)<br>6.12kb zipped (with ECT)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/qTesrOqkUT">pic.twitter.com/qTesrOqkUT</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1300112990184837121">August 30, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


<h4>Days 19 - 26: more puzzles, special events and optimizations</h4>

<p>The remaining days were reserved for making my final levels.
<br>And the former level 6 (which finally became level 7) was a bit special.
<br>At first, I designed it so a distant piece could be used to fill two holes in the bridge in different angles, and another piece would fill a third hole from another angle...

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 19: <br>Preview of level 6...<br>Three holes in the road, but only two chunks to fill them... 🤔<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/Nz7vjBsLZf">pic.twitter.com/Nz7vjBsLZf</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1300510860322975748">August 31, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>And when I tested it, I realized (by mistake) that a single piece could be used to solve the entire puzzle, with three holes in the road.
<br>To celebrate that, I added my first custom script to a level, and made the middle of the bridge collapse when we approach it, especially to push the players to find the solution I had found by mistake:


<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 20<br>I realized that the level 6 I presented yesterday can actually be solved with just one loose chunk of road, even though the bridge has three holes.<br>So I modified it accordingly, but to dramatize it a little, I made a little collapsing animation for the middle one 🤭<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/TzRG71TriC">pic.twitter.com/TzRG71TriC</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1300828510903304195">September 1, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>At first I had made a more "cartoony" collapse animation, but it didn't fit as well as the final one:<br><br>
<img src="images/js13k20/alt.gif" width=350>

<br><br>The following level also contains special (scripted) events, but these ones were suggested by some Twitter followers (thanks to them). One told me that my game should include <a href="https://twitter.com/McFunkypants/status/1301603435888783360">dynamites</a>, and another one told me that it would be nice to have <a href="https://twitter.com/JLo_IT/status/1301851986502000640">moving platforms</a>.
<br><br>I decided to include both of these ideas in the same level, where the bridge explodes and some salvatary pieces come to you by floating on the river...

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Day 25:<br>Dynamites and moving platforms were in my &quot;nice to have list&quot; since the beginning, but it&#39;s Twitter&#39;s suggestions that decided me to use them in the game.<br>In a game about perspective, moving platforms are a nightmare to work with, but I think I figured it out.<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1302636663672377346">September 6, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I'm not 100% happy of how this moving platforms thing turned out, but I had spent many hours on it and couldn't waste more time, so I released it like that.

<br><br>Another level (the final one) contains something I wanted to do from the beginning, a "4D" button, that produces weird deformations of the scene as if we were moving in a 4th dimension, like in the game <a href="https://miegakure.com/">Miegakure</a>.
<br>Of course it's a joke, and not a real 4D puzzle (I wish I had the math level to do that), but instead, I applied a ridiculously low perspective to the scene and random rotations and scales to every element in the scene, to make the scene as glitchy as possible before the game over screen.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 26:<br>Why limit ourselves to 2D and 3D?<br>(I won&#39;t spoil too much :p)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/RZYxmlsIeY">pic.twitter.com/RZYxmlsIeY</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1303008528223920128">September 7, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>The CSS3D chaos happening at this moment was actually inspired by some errors I had made in previous CSS3D games, like my js1k entry <a href="https://js1k.com/2017-magic/demo/2794">Can I haz 1karrot</a>, where I accidentally applied 3D trasforms to everything on screen and it made something like that:
<br><br><img src="images/js1k17/7.gif" width=350>
<br><br><details><summary>SPOILER: see the game's ending</summary>
<img src="images/js13k20/ending.gif">
</details>

<br><br>In parallel of these new levels (and special events), I added many optimizations and bonuses to the game: responsiveness, mobile support, more scenery (trees, animals, sun), use SVG files instead of a webfont for my important emoji (train, eye, camera, dynamite), and finally, I went on a big div diet.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 21: optimization day!<br>- I drastically reduced my div count to improve perfs<br>Here&#39;s 170 divs instead of 230 (looks the same + a bonus sun🌞<br>- Game is responsive &amp; starts being playable on mobile!<br>- The important (emoji) assets are now SVG&#39;s, included in the entry&#39;s zip!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/aNOIeEPujc">pic.twitter.com/aNOIeEPujc</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1301220726867984384">September 2, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I reduced my div count absolutely everywhere: in the hills, pieces of track, pillars, the train, etc), and also made sure no divs were intersecting with each other.
<br>As a result, the performances fastly improved, especially on mobile. But mobiles still had a few lags so I simplified the game even more for them:

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">But to ensure good perfs on mobile, I also reduced the div count even more:<br>- no sun<br>- no trees<br>- no boat<br>- no animated waves<br><br>It&#39;s more sober indeed, but way less glitchy!<br>Div count: 170 on desktop / 139 on mobile.<br><br>Zip size with all the fixes + the emoji SVGs: 8.44kb!<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/3VGZ4pYuhg">pic.twitter.com/3VGZ4pYuhg</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1301427350333161473">September 3, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I also remarked that with each new feature, I added many extra tests and safeguards to prevent the train from misbehaving, or falling through the floor. It reminded me <a href="https://www.gamasutra.com/view/feature/132500/dirty_coding_tricks.php?page=3">this gamedev story</a> that I particularly affectionate.
<br><br>If you enjoy it, I recommend reading all of Gamasutra's <b>dirty coding tricks</b> posts (and the comments below them), <a href="https://www.gamasutra.com/view/feature/132500/dirty_coding_tricks.php?page=1">here</a> (4 pages), <a href="https://www.gamasutra.com/view/news/249475/More_dirty_coding_tricks_from_game_developers.php">here</a> (4 pages) and <a href="https://www.gamasutra.com/view/news/310570/Developers_share_their_most_memorable_dirty_coding_tricks.php">here</a>!

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 24:<br>This year more than ever, my entry&#39;s code is filled with weird tests and safeguards, just to avoid the train from falling through the track or teleporting on the other side of the map while switching perspectives.<br>Reminds me this story: <a href="https://t.co/4aqDZjyqjO">https://t.co/4aqDZjyqjO</a><a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/0erX0hyDAT">pic.twitter.com/0erX0hyDAT</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1302209931911757824">September 5, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>End of the fourth week!

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">End of week 4!<br><br>Stats time:<br>- 1.16kb of HTML (42 lines of code)<br>- 5.12kb of CSS (115 lines of code)<br>- 63.4kb of JS (2043 lines of code)<br>- 4.81kb of SVG files<br><br>HTML/CSS/JS minified (not golfed): 34.8kb<br><br>Everything zipped: 11.0kb<br><br>TODO: one last level, sound, polish.<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1302689941596631040">September 6, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 


<h4>Days 27 - 28: Music!</h4>

<p>The music of <b>Track not found?!</b> has a fun backstory.
<br><br>On day 27, I was pretty much desperate that my game was completely mute, and that I couldn't compose anything interesting despite all the music tools out there (including the ones I made myself during the last few years).
<br><br>I started to copy the music of my 2017 entry <b>LOSSST</b> to put it in my game, but when I tried to golf the code that plays the melody, I made a typo that only played one note out of two (and ignoring the other one).
<br>The result was a melody that sounded not only completely original, but also not bad at all!
<br><br>After fixing the length of the silences and the pitch of a couple notes, it gave me this:
<script>
losssthalf = D => {
  if(!D)return;           // D = melody string (a-z + 0 for silence)
  I=.3;           // I = note length in seconds
  with(new AudioContext)
  with(G=createGain())
  for(i=0;i<D.length;i++)
  with(createOscillator())
  if(D[i=+i]&&D[i]!="0")
  connect(G),
  G.connect(destination),
  start(i*I+.3),
  frequency.setValueAtTime(440*1.06**(-105+D.charCodeAt(i)),i*I+.3),
  type='sine',            // or triangle or square or sawtooth
  gain.setValueAtTime(.5,i*I+.3),
  gain.setTargetAtTime(.001,i*I+.3+.1,.05),
  stop(i*I+.3+I-.01);
}
</script>
<br><br><button onclick="losssthalf('miffif00mifbfh00heaehe00ifffif00iheaehefffff');losssthalf('aaabbb00aaabbc00aaabbb00aaabbc00aaabbcccbbbb')">Play</button>

<br><br>I was preparing to use this theme in my game, but I found quite amusing to edit melodies like that, just by editing an ASCII string! So I made a mini-tool for it and shared it on Twitter:
 
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">So yeah uh,<br>I&#39;ve put together a mini tool to write a two-track melody using nothing else than the letters a-z and the number 0 for the silences. 👉👈<br><br>Try it here:<a href="https://t.co/Ib6AkBfAU4">https://t.co/Ib6AkBfAU4</a><br><br>If anyone is free to help me compose a little loop for my game, it&#39;d be great. ☺️<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/5uAkdolR82">pic.twitter.com/5uAkdolR82</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1303404329081221123">September 8, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<br><br>And by chance, <b>GregPeck</b>, another js13kgames contestant, saw my tool and had the kindness to compose something new with it, for me.
<br>It was so good that I ended up using his song in my game :)
<br><br>While you're here, go play his entry <b>404th floor</b> <a href="https://js13kgames.com/entries/404th-floor">HERE</a>, it's very nice!

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">Day 28:<br>I finally have a nice music, thanks to <a href="https://twitter.com/GregPeck44">@GregPeck44</a> (who is also making a very nice entry on his own) 🥳<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1303655689450127360">September 9, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I didn't stop there: I adapted my music player so that it played each note individually, one after the other, instantly, instead of making it program the 64 notes of the melody in advance and letting them all play for 20 seconds.

<br><br>It was a bit complex to get the AudioContext API right, but when it finally worked, I've been able to change the waveform of the notes on-the-fly when switching from 2D to 3D to produce an interesting effect.
<br>For the 4D transition, I used a different waveform but I also randomized the start and length of each note to make the melody sound glitchy.

<br><br>Another problem that I faced when making this custom music player was that the two first notes were always buggy on my computer. Depending on the browser I used, there was either a very unsettling cracking noise, as if a microphone was being plugged in an amplifier or something like that, or complete silence for a brief moment.
<br>The solution was to start playing 3 dummy notes with a volume of 0.001, and then start the real melody, with a hearable volume (0.5).

<br><br>I'm happy with the final result, even though I realized after the end of the compo that the song was kind of distorted and unrecognizable on some low-end smartphones, but it was too late to try and fix it, so... so be it!

<h4>Days 29 - 30: Polishing and filling the zip with bonuses</h4>

<p>I took the last two days to fill the remaining space in my zip with extra features (like fullscreen mode, skip a level using the Escape key, etc), rework my title screen to make it less janky on Firefox (Firefox doesn't like ultra long CSS3D elements, so I replaced the big 1000px-long rail I had made in the title screen with ten 100-px chunks, each of them having the same wood pieces animation).

<br><br>I also added sound effects (for deaths and dynamite explosions), picked from the <a href="https://xem.github.io/MiniSoundEditor/">Mini Sound Editor</a> tool I made with <b>Anders Kaare</b> in 2017, and some achievements unlockable in the fabulous <a href="https://js13kgames.com/entries/os13k">OS13k</a> entry by <b>Frank Force</b> (who's fabulous too)!

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Adding sound effects too 👀<br>(there&#39;s still too much free room in my zip)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1304161494997897217">September 10, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>I finally added a 11th level (one I had scraped during the development), as a bonus for Coil users.
<br>(pssst: it can also be reached by pressing Escape on level 10...).<br>I used this level as an example to explain how much work (and how much code) the making of a single level represents in my code base:


<blockquote class="twitter-tweet"><p lang="en" dir="ltr">For each level, I have to hardcode the position and scale of every track chunk in 3D space, and links between them. Then for every camera position where two tracks become aligned, I hardcode the new links plus the adjustments that make the optical illusion seamless (2/3)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/D0iMgI7NKd">pic.twitter.com/D0iMgI7NKd</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1304049198992691200?ref_src=twsrc%5Etfw">September 10, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<p>To finish, I showed how small this huge level could be after proper compression.
<br>Though, I wish my game could have had a level editor to ease my creative process... <br>unfortunately, due to the nature of the puzzles, a level editor would have been too complex to develop and would probably have taken most of the month to build, probably delaying or cancelling the release of my game, so I guess I made the right decision.

<blockquote class="twitter-tweet" data-conversation="none"><p lang="en" dir="ltr">So this is extremely verbose, but compresses very well.<br>For example, the data shown above requires 295 lines and 8304 bytes unminified,<br>3064 bytes minified,<br>and after zipping, my entry&#39;s size only increased by ~300 bytes.<br>I wish I could have made a level editor... 🤔<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1304049203690311681?ref_src=twsrc%5Etfw">September 10, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<br>And at the end of the last day, after all these little additions, I discovered that my zip had reached 14.1kb.<br>Yay! Finally an opportunity to make a bit of golfing and compression optimizations!
<br><br>Remember the SVG emoji I borrowed from Twitter? Turned out, they weren't optimized at all. Passing them through <a href="https://jakearchibald.github.io/svgomg/">svgomg</a> reduced their uncompressed size by about 50%!
<br><br>I also removed all the useless spaces in my code, as well as all the "null" keywords in my arrays, making every empty slot simply equal to "undefined" instead of "null".
<br><br>Since it was not enough, I finally renamed my longest / most used JS variables to 1 or 2 characters each.
<br><br>The zip was finally 13.4kb, and thanks to the new amazing <a href="https://github.com/fhanau/Efficient-Compression-Tool">ECT zip optimizer</a>, it dropped just 20 bytes under the 13kb limit.
<br><br>NB: to use ECT, download it, place it in the same folder as your entry and execute: <br>
<b> ./ect-0.8.3.exe -9 -zip ./entry.zip</b>)
<br><br>ECT has this amazing capability to recompress a zip file even better than the strongest Advzip settings, and using only a fraction of the time Advzip used (~2 seconds vs. ~2 minutes). I love this tool!


<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Some stats from the final build:<br>- ~60 hours of work<br>- 2546 CSS3D divs displayed in 11 levels<br>- 1 HTML file (46 lines, 1.39kb, 1014b minified)<br>- 1 CSS file (107 lines, 4.93kb, 4.09kb minified)<br>- 8 JS files (2663 lines, 81.6kb, 34.74kb minified)<br>- 5 svg files (3.89kb)<a href="https://twitter.com/hashtag/js13k?src=hash&amp;ref_src=twsrc%5Etfw">#js13k</a> <a href="https://t.co/0NKtyUIjTP">pic.twitter.com/0NKtyUIjTP</a></p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1304516741473734659">September 11, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

<br><br><hr><br>

<h4>Conclusion</h4>

<p>When the compo finished, I had the pleasure to read many positive and/or constructive feedbacks about my entry.
<br><p>I also discovered in the other entries' post mortems that many had used some of my tools:
<br>MiniMusic, js13k-path, CSS3DFramework, Emoji, Terser-online, Webgl-guide, Maths & Trigonometry cheat sheet, etc.
<br><p>I was amazed by the quality of the other entries out there, my favourite is <a href="https://js13kgames.com/entries/island-not-found">Island not found</a>, but I detailed my favourites list in <a href="https://twitter.com/MaximeEuziere/status/1306553299416608769">this thread</a>!
<br><p>I recorded a playthrough video for those who want to see how the game ends (SPOILERS):
<br><div style="position: relative; padding-bottom: 56.25%; height: 0;"><iframe src="https://www.loom.com/embed/1cca32eab2264c5eb603a3bff6800e84" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
<br><p>The results ceremony took place on october 5.
<br>My game got ranked #4, and I got to present my game and listen to the experts's feedbacks live! (<a href="https://youtu.be/xbijIAxucYA">VIDEO</a>)
<br><p>I'm very happy overall, but if I may self-criticize a little, I'd say that I wish I had more free time to work on this entry and more time for beta-testing, I wish I had flattened the difficulty curve starting from level 6, and I wish I could have included more visual elements in the scene: living animals, birds, planes, waves, weather effects, particle effects, chimney smoke, different environments (tunnels, forests, mountains, beach, etc)... but I had to focus on the engine and the puzzles, and keep everything in a reasonable size!
<br><p>To finish, here's a collection of the feedbacks I gathered about my entry:
<br>
<ul>
<li><b>Christer Kaitila</b>: I loved it! amazing tech! The graphics are so smooth and the puzzles are so cool. I am totally blown away that you were able to achieve this level of polish and skill in only 13kb! At ANY size it would be impressive. The various levels are so great. Amazing work!
<li><b>Nathan Lie</b>: Great quirky little puzzle game, and I like the bonus level choice for Web Monetization users. The humor was great and the art style works well. Only improvement I can suggest is perhaps a "fast rotate" that simply snaps between the different viewpoints rather than transitioning between them, so it's easier to look for solutions as time goes on.
<li><b>Ewa Mazur</b>: What an innovative game! Brilliant idea! I was under a big impression during the whole gaming session! I only miss some kind of a level menu. The music is perfect for the cute train and environment, levels getting harder progressively and the tips are awesome - they suggest the solution but not so obviously. The game is cute and soooo clever! Great job!
<li><b>Anselm Hook</b>: Very clever. I didn't see the web monetization feature. Else very nice.
<li><b>romancortes</b>: Xem, your game is super good, I'm really impressed this time, the idea is amazing (...) have you considered making this your career? I see the potential to make real money with it. I mean with this talent of making puzzles.
<li><b>Justin Asfour</b>: It looks really cool. I really like the concept
<li><b>Salvatore Previti</b> (on twitter): I still cannot believe what can be done with CSS, but especially the creatives ways you found to make CSS do what you wanted :) amazinc, and the puzzles are incredibly fun!
<li><b>Frank Force</b>: A puzzle game about multi dimension optical illusions. I love the 3d emoji art style! Lots of great touches like how the music changes between 2d and 3d.
<li><b>saud</b>: played and finished your game. Love what you have achieved with CSS3D, I'll be diving into your code this weekend!
<li><b>Christer Kaitila</b> (on Twitter): Want to see something amazing? This entire 3d puzzle game was made in CSS! These are EMOJIS! In an html document! Coded by #gamedev extraordinaire @maximeeuziere for the #js13k competition, this entire game is only 13kb in size.
<li><b>Edu Alonso</b>: The puzzles are also good, I hate this person
<li><b>Innkeeper Games</b>: Absolutely gobsmacked by this. And it’s lots of fun too??????
<li><b>Jasper Renow-Clarke</b>: Plays great on desktop, love the concept.
<li><b>H Trayford</b>: Thanks for sharing your tips from beginning to end and for all the progress updates. I’ve really enjoyed watching your game come together.
<li><b>Calimero</b>: Amazing, well done ! Very thoughtful design.
<li><b>Ben Fox</b>: Seriously, try this. Pretty amazing entry for #js13k. Even the theme tie-in is great. Mad about my bridge blowing up tho 
<li><b>Oscar Vi R</b>: Nice music change between dimensions
<li><b>codyebberson</b> (on the voting app): Well done, as always. Puzzle design was devious! Graphics, music, and sound effects all created a fun lighthearted atmosphere. I don't know if this would be possible, but sometimes the mind bending puzzles felt like I was just trying every combination, and some kind of hint system could have made the game more accessible. Overall, well done!
<li><b>joseprio</b>: Great concept! Love the originality. I actually saw the development going on in Twitter, and it really shows a lot of effort went into it.
<li><b>bartaz</b>: As always, amazing puzzle ideas and implementation. Got stuck on dynamite level though. I think I have a solution, but can't make it that quick! Or maybe it means I don't have a solution? Anyway, I'm amazed what you achieved with CSS 3D and emojis. Having some experience with CSS 3D it's hard to believe how to achieve such a fine control over it that you can rotate the camera as you want and make perspective puzzles. Chapeau bas!
<li><b>SalvatorePreviti</b>: Is a great game. Technically impressive and also the idea is great, I would have never thought of using perspective games with a train track. Puzzles are quite hard and becomes hard quickly, but it makes me want to come back and spend time to solve! I also love the music, and the fact that between 2D and 3D the music changes tonality.
<li><b>Hambo3</b>: Beautiful.
<li><b>arturaugusto</b>: Cool idea. Remember the game FEZ
<li><b>Ayuu</b>: Incredible work as always! One caviar... it doesn't save the progression :( Good thing that we can skip levels! I got a bug with the audio; sometimes when I start the game the audio is duplicated/tripled and I have to restart the game to fix it!
<li><b>herebefrogs</b>: Smart game, I can't even conceptualize the math behind it.
<li><b>stefanforsberg</b>: Very clever perspective puzzler, really enjoyed playing it
<li><b>randytayler</b>: Stunning. You should figure out some more tricks and make a mobile app! (I still haven't finished it, by the way, but this is one of the few games I'll be coming back to play some more.)
<li><b>robinlamb</b>: Great 3D graphics, music, and sound effects! Very interesting puzzle idea, to change 2D and 3D perspectives to see the track.
<li><b>eschatonic</b>: I found the controls very confusing to keep track of, but otherwise this game is beautiful in many ways. I particularly love how the music shifts tone between 2D and 3D. The puzzles are delightful too :)c
<li><b>jonathan-vallet</b>: Really nice game! Nice difficulty progression, fun to play :)
<li><b>lpagg</b>: Great concept, nice graphics.
<li><b>Schnark</b>: The controls don't work when you have (like me) the setting "Search as you type" on in your browser. You should call e.preventDefault() on all keyboard events to prevent this. Otherwise, a great and interesting game!
<li><b>viljami</b>: Awesome puzzle idea! I love how it teaches sneakily the 2D and 3D perspective.
<li><b>Shubham7997</b>: Amazing game and graphics are very nice.
<li><b>vik-13</b>: Cool puzzle game! The train looks amazing! It would be great to add some smoke to the train. or.. maybe it has a battery pack. :)
<li><b>johnedvard</b>: Creative
<li><b>serpent7776</b>: I lke that the music changes when in 2D/3D mode. Either I don't get how to play this or I'm too dumb
<li><b>EyeOfMidas</b>: This was such a clever game. I loved the emoji-3d graphics
<li><b>Felipe Alfonso</b>: I really liked the idea. It's very clever 
<li><b>jaburns</b>: That's absolutely insane lol CSS3D for that game
<li><b>rtayler</b>: It was so crazy good. He should sell a hint guide. :)
<li><b>Trezy P</b>: Right? When is the Prima strategy guide coming out for Track Not Found? 🤣  I was tracking this one on Twitter, too! The puzzles were so clever. He ended up switching from actual emojis to SVGs at the end to avoid issues with different emojis on different platforms, but it's still super impressive. ❤
<li><b>Joe</b>: I was impressed by level design and the progression of mechanics (move, switch, rotation…)
<li><b>bartaz</b>: amazing puzzles as always @xem!
<li><b>End3r</b>: I'm constantly impressed by the whole effort put into rendering emoji in different systems and devices and being able to make it playable too. Like previous years you're doing an awesome job, bending the rules and making more than I could imagine from a browser so it's really impressive
<li><b>SalvatoreP</b>: I never got to finish level 6, but I really enjoyed this game a lot, really, not only technically because it's crazy, but it's a lot of fun and I love the music when you go from 2D to 3D
<li><b>Jupiter Hadley</b>: I really liked this game, it's very clever, I like the way the tutorial builds up these different ways you can rearrange the picture
<li><b>jsgreg</b>: le jeu est beaucoup plus fluide en vue 2D qu'en vue 3D. Sinon au niveau gameplay, le principe est génial, très sympa !
<li><b>Nghia Duong</b>: il est super ! je ne sais pas comment t'as codé tout ça mais c'est du beau travail ! (...) argghhh le niveau 6 me prend la tête !!
<li><b>Julien Laville</b>: c'est trés agréable a jouer, fluide et tout. until le level 5, d'un coup moins fluide en terme de recheche de solution
<li><b>Adrien Guéret</b>: L'écran titre est joli. (...) c'est impressionnant, bien joué. J'ai galéré de mon côté à  faire des collisions carré/cercle, et toi tu fais ce genre de truc en 3D en jouant avec les perspectives. Fou.
<li><b>Benjamin Becquet</b>: Bravo  !! C'est génial et c'est ouf que ça tienne en 13Kb !
<li><b>Davide Madrisan</b>: Vraiment sympa! J'aime bien l'effet 2D/3D même dans la musique
<li><b>Damien Allonsius</b>: c'est super cool comme jeu, moi j'ai bien aimé! J'ai bien aimé la 4eme dimension aussi 🤪 Bravo Max ! J'espère que tu vas être bien classé !
</ul>

<p>My game was also featured in this year's stickers!
<br><img src="images/js13k20/stickers.jpg">
<br>
<br><p>Thanks everyone, thanks Andrzej, Thanks GregPeck, and see you next year!
<br><b>Xem</b>
<br><br><hr><br>
 
</div>


</main>

</div>

<footer></footer>

<script src="../ui.js?v=2024-07"></script>
<script>
header();
footer();
menu();
</script>

</body>
</html>