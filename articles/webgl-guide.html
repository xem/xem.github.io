<!doctype html>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, user-scalable=no">
<html>
<head>
<link rel=stylesheet href="../style.css?v=4">
<title>Maxime Euzière</title>
</head>
<body class=large>

<div class="wrapper">

<header></header>

<div id=menu></div>

<main>

<style>
table { border-spacing: 0; border-collapse: collapse }
th, td { padding: 3px; width: 200px }
th { background: #eee }
</style>

<div class=section id=webgl_guide>
<h2>WebGL guide</h2>
<h3>october 2019 - WIP</h3>
  
<h4>Intro</h4>

<p>This page summarizes the book <a href="https://www.oreilly.com/library/view/webgl-programming-guide/9780133364903/ch01.html">WebGL Programming Guide</a> with tiny, editable demos.
<p>All the code is available <a href="https://github.com/xem/webgl-guide">on Github</a>.
<p>For more info on WebGL raymarching and signed distance functions, check out <a href="webgl_quest.html">Webgl quest</a> and <a href="webgl_quest_2.html">Webgl quest 2</a>.

<br><br><hr><br>

<h4>How to draw points</h4>
<i>(from chapter 2 of the book)</i>

<h5>Definitions and notations</h5>

<ul>
<li>a vertex is a point in 3D space (coordinates: x, y, z)
<li>a fragment is where the scene is rendered (typically, the pixels on your screen)
<li>two programs (vertex shader and fragment shader) are written in GLSL language to represent them
<li>these shaders are compiled and linked into a program, which is controlled by JS to render things on a WebGL canvas context
<li>the x/y coordinates in this canvas context are in the range [-1:1]: the center is at (0:0), the top-right corner is at (1:1)
<li>a float is a number written with at least one decimal (ex: 0.0, 0.1, 1.0, ...)
<li>a vec4 is an array of 4 floats representing a position (x, y, z, 1.0), a color (r, g, b, alpha) or anything you want
<li>a mat4 is a 4x4 matrix of floats
<li>an attribute is a global variable passed by JS to the fragment shader (ex: a point's coordinates)
<li>an uniform is a global constant passed by JS to all the shaders (ex: a color)
<!--li>a varying is (todo)-->
</ul>

<p>This is the simplest possible WebGL program, drawing a red point in the middle of the canvas.
<br>
<br>
<iframe height=800 src="https://xem.github.io/webgl-guide/visualizer/#PGNhbnZhcyBpZD0iY2FudmFzIiB3aWR0aD00MDAgaGVpZ2h0PTQwMD48L2NhbnZhcz4KPHNjcmlwdD4KLy8gR2V0IHRoZSBXZWJHTCByZW5kZXJpbmcgY29udGV4dAovLyBUaGUgWCBhbmQgWSBjb29yZGluYXRlcyBhcmUgZGVmaW5lZCBiZXR3ZWVuIC0xLjAgYW5kIDEuMAp2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKTsKCi8vIFZlcnRleCBzaGFkZXI6Ci8vIERlc2NyaWJlcyB0aGUgYXR0cmlidXRlcyBvZiBwb2ludHMgaW4gc3BhY2VzIChwb3NpdGlvbiwgc2l6ZSwgLi4uKQovLyAtIGdsX1Bvc2l0aW9uOiB2ZWM0KHgsIHksIHosIDEuMCkKLy8gLSBnbF9Qb2ludFNpemUgZmxvYXQKdmFyIHZzaGFkZXIgPSBgCnZvaWQgbWFpbigpIHsKICBnbF9Qb3NpdGlvbiA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTsKICBnbF9Qb2ludFNpemUgPSAxMC4wOwp9YDsKCi8vIEZyYWdtZW50IHNoYWRlcjoKLy8gRGVzY3JpYmVzIGhvdyBlYWNoIHBpeGVsIGlzIHJlbmRlcmVkIChjb2xvciwgbGlnaHRpbmcsIC4uLikKLy8gLSBnbF9mcmFnQ29sb3I6IHZlYzQociwgZywgYiwgYWxwaGEpCnZhciBmc2hhZGVyID0gYApwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKdm9pZCBtYWluKCkgewogIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTsKfWA7CgovLyBNYWtlIGEgcHJvZ3JhbSBmcm9tIHRoZXNlIHNoYWRlcnMgYW5kIHVzZSBpdCAKdmFyIHZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpOwpnbC5zaGFkZXJTb3VyY2UodnMsIHZzaGFkZXIpOwpnbC5jb21waWxlU2hhZGVyKHZzKTsKCnZhciBmcyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpOwpnbC5zaGFkZXJTb3VyY2UoZnMsIGZzaGFkZXIpOwpnbC5jb21waWxlU2hhZGVyKGZzKTsKCnZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpOwpnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdnMpOwpnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpOwpnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTsKZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTsKCi8vIENsZWFyIHRoZSBjYW52YXMncyBjb2xvciBidWZmZXIsIGluIGJsYWNrCmdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTsKZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7CgovLyBEcmF3IHBvaW50cyBvbiB0aGUgY2FudmFzJ3MgY29sb3IgYnVmZmVyCmdsLmRyYXdBcnJheXMoCiAgZ2wuUE9JTlRTLCAvLyBtb2RlCiAgMCwgICAgICAgICAvLyBzdGFydGluZyBwb2ludAogIDEsICAgICAgICAgLy8gbnVtYmVyIG9mIHBvaW50cyB0byBkcmF3Cik7Cjwvc2NyaXB0Pg=="></iframe>

<p>The same demo, but the position, size and color of the point is set by JS, and not hardcoded.
<br>
<br>
<iframe height=950 src="https://xem.github.io/webgl-guide/visualizer/#PGNhbnZhcyBpZD0iY2FudmFzIiB3aWR0aD00MDAgaGVpZ2h0PTQwMD48L2NhbnZhcz4KPHNjcmlwdD4KdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoIndlYmdsIik7CgovLyBWZXJ0ZXggc2hhZGVyOgovLyBhbiBhdHRyaWJ1dGUgKGxpa2UgcG9zIC8gc2l6ZSkgaXMgYSBnbG9iYWwgdmFyaWFibGUgc2V0IGJ5IEpTCi8vIG9ubHkgdGhlIHZlcnRleCBzaGFkZXIgY2FuIGFjY2VzcyBpdAp2YXIgdnNoYWRlciA9IGAKYXR0cmlidXRlIHZlYzQgcG9zOwphdHRyaWJ1dGUgZmxvYXQgc2l6ZTsKdm9pZCBtYWluKCkgewogIGdsX1Bvc2l0aW9uID0gcG9zOwogIGdsX1BvaW50U2l6ZSA9IHNpemU7Cn1gOwoKLy8gRnJhZ21lbnQgc2hhZGVyOgovLyBhbiB1bmlmb3JtIChsaWtlIGNvbG9yKSBpcyBhIGdsb2JhbCBjb25zdGFudCBzZXQgYnkgSlMKLy8gYWxsIHNoYWRlcnMgY2FuIHJlYWQgaXQKdmFyIGZzaGFkZXIgPSBgCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0Owp1bmlmb3JtIHZlYzQgY29sb3I7CnZvaWQgbWFpbigpIHsKICBnbF9GcmFnQ29sb3IgPSBjb2xvcjsKfWA7CgovLyBDb21waWxlIHNoYWRlcnMgYW5kIHByb2dyYW0KdmFyIHZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpOwpnbC5zaGFkZXJTb3VyY2UodnMsIHZzaGFkZXIpOwpnbC5jb21waWxlU2hhZGVyKHZzKTsKdmFyIGZzID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7CmdsLnNoYWRlclNvdXJjZShmcywgZnNoYWRlcik7CmdsLmNvbXBpbGVTaGFkZXIoZnMpOwp2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTsKZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZzKTsKZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZzKTsKZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7CmdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7CgovLyBTZWxlY3QgdGhlIHBvcyBhdHRyaWJ1dGUgYW5kIHNldCBpdHMgdmFsdWUKLy8gd2UgdXNlIHZlcnRleEF0dHJpYjNmIHRvIG9ubHkgc2V0IHRoZSB2YWx1ZXMgd2UgY2FyZSBhYm91dCBpbiBwb3MgKHgsIHksIHopCi8vIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiBhIHZlYzQgYXR0cmlidXRlIGFyZTogKDAuMCwgMC4wLCAwLjAsIDEuMCkKLy8gc28gYWxsIHRoZXNlIGZvcm1zIGFyZSBlcXVpdmFsZW50OgovLyAtIGdsLnZlcnRleEF0dHJpYjFmKHBvcywgMC4wKQovLyAtIGdsLnZlcnRleEF0dHJpYjJmKHBvcywgMC4wLCAwLjApCi8vIC0gZ2wudmVydGV4QXR0cmliM2YocG9zLCAwLjAsIDAuMCwgMC4wKQovLyAtIGdsLnZlcnRleEF0dHJpYjRmKHBvcywgMC4wLCAwLjAsIDAuMCwgMS4wKQp2YXIgcG9zID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ3BvcycpOwpnbC52ZXJ0ZXhBdHRyaWIzZihwb3MsIDAuMCwgMC4wLCAwLjApOwoKLy8gU2VsZWN0IHRoZSBzaXplIGF0dHJpYnV0ZSBhbmQgc2V0IGl0cyB2YWx1ZQp2YXIgc2l6ZSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdzaXplJyk7CmdsLnZlcnRleEF0dHJpYjFmKHNpemUsIDEwLjApOwoKLy8gU2VsZWN0IHRoZSBjb2xvciB1bmlmb3JtIGFuZCBzZXQgaXRzIHZhbHVlCnZhciBjb2xvciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAiY29sb3IiKTsKZ2wudW5pZm9ybTRmKGNvbG9yLCAxLjAsIDAuMCwgMC4wLCAxLjApOwoKLy8gUmVuZGVyCmdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTsKZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7CmdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLCAwLCAxKTsKPC9zY3JpcHQ+"></iframe>

<p>Add a new point with a different color everytime the canvas is clicked.
<br>
<br>
<iframe height=1100 src="https://xem.github.io/webgl-guide/visualizer/#PGNhbnZhcyBpZD0iY2FudmFzIiB3aWR0aD00MDAgaGVpZ2h0PTQwMD48L2NhbnZhcz4KPHA+Q2xpY2sgYW55d2hlcmUgdG8gYWRkIGEgcG9pbnQKPHNjcmlwdD4KdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoIndlYmdsIik7CgovLyBWZXJ0ZXggc2hhZGVyCnZhciB2c2hhZGVyID0gYAphdHRyaWJ1dGUgdmVjNCBwb3M7CmF0dHJpYnV0ZSBmbG9hdCBzaXplOwp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSBwb3M7CiAgZ2xfUG9pbnRTaXplID0gc2l6ZTsKfWA7CgovLyBGcmFnbWVudCBzaGFkZXI6CnZhciBmc2hhZGVyID0gYApwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKdW5pZm9ybSB2ZWM0IGNvbG9yOwp2b2lkIG1haW4oKSB7CiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cn1gOwoKLy8gQ29tcGlsZSBzaGFkZXJzIGFuZCBwcm9ncmFtCnZhciB2cyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTsKZ2wuc2hhZGVyU291cmNlKHZzLCB2c2hhZGVyKTsKZ2wuY29tcGlsZVNoYWRlcih2cyk7CnZhciBmcyA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpOwpnbC5zaGFkZXJTb3VyY2UoZnMsIGZzaGFkZXIpOwpnbC5jb21waWxlU2hhZGVyKGZzKTsKdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7CmdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2cyk7CmdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcyk7CmdsLmxpbmtQcm9ncmFtKHByb2dyYW0pOwpnbC51c2VQcm9ncmFtKHByb2dyYW0pOwoKLy8gR2V0IHNoYWRlcnMgYXR0cmlidXRlcyBhbmQgdW5pZm9ybXMKdmFyIHBvcyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdwb3MnKTsKdmFyIHNpemUgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnc2l6ZScpOwp2YXIgY29sb3IgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ2NvbG9yJyk7CgovLyBDbGVhcgpnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7CmdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOwoKLy8gTGlzdCBvZiBwb2ludHMgdG8gZHJhdwpwb2ludHMgPSBbXTsKCi8vIENsaWNrIGxpc3RlbmVyCmNhbnZhcy5vbmNsaWNrID0gZSA9PiB7CgogIC8vIE1vdXNlIGNvb3JkaW5hdGVzIG9uIGNhbnZhcwogIHZhciB4ID0gZS5jbGllbnRYIC0gY2FudmFzLm9mZnNldExlZnQ7CiAgdmFyIHkgPSBlLmNsaWVudFkgLSBjYW52YXMub2Zmc2V0VG9wOwogIAogIC8vIE1vdXNlIGNvb3JkaW5hdGVzIGluIFstMToxXSByYW5nZQogIHggPSAoMiAqIHggLyBjYW52YXMud2lkdGgpIC0gMTsKICB5ID0gKC0yICogeSAvIGNhbnZhcy5oZWlnaHQpICsgMTsKICAKICAvLyBBZGQgcG9pbnQgaW4gbGlzdAogIHBvaW50cy5wdXNoKFt4LCB5IF0pOwogIAogIC8vIENsZWFyCiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7CiAgCiAgLy8gRHJhdyBhbGwgcG9pbnRzCiAgLy8gVGhlIGNvbG9yIGlzIGNvbXB1dGVkIHVzaW5nIHRoZSBwb2ludHMgY29vcmRpbmF0ZXMKICBmb3IoaSBpbiBwb2ludHMpewogICAgZ2wudmVydGV4QXR0cmliM2YocG9zLCBwb2ludHNbaV1bMF0sIHBvaW50c1tpXVsxXSwgMC4wKTsKICAgIGdsLnZlcnRleEF0dHJpYjFmKHNpemUsIDEwLjApOwogICAgZ2wudW5pZm9ybTRmKGNvbG9yLCAocG9pbnRzW2ldWzBdKzEpLzIsIChwb2ludHNbaV1bMV0rMSkvMiwgMC41LCAxLjApOwogICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIDEpOwogIH0KfQo8L3NjcmlwdD4="></iframe>

<br><br><hr><br>

<h4>How to draw lines and triangles</h4>
<i>(from chapter 3 of the book)</i>

<h5>Definitions and notations</h5>

<ul>
<li>a buffer object can pass binary data from JS to the shaders (ex: a list of vertices, a list of colors, a texture...)
<li>this buffer contains a list of numbers, formatted as one of these types:
<br>
<br>
<table border>
<tr>
<th>Name
<th>JS container
<th>WebGL type
<tr>
<td>Unsigned byte
<td>Uint8Array
<td>gl.UNSIGNED_BYTE

<tr>
<td>Signed short integer
<td>Int16Array
<td>gl.SHORT

<tr>
<td>Unsigned short integer
<td>Uint16Array
<td>gl.UNSIGNED_SHORT

<tr>
<td>Signed integer
<td>Int32Array
<td>gl.INT

<tr>
<td>Unsigned integer
<td>Uint32Array
<td>gl.UNSIGNED_INT

<tr>
<td>Floating point number
<td>Float32Array
<td>gl.FLOAT
</table>
<br>
<li>drawArrays can render points, lines and triangles in 7 different ways:
<br>
<br>
<img src="images/webgl-guide/modes.png" width=800 style="border:2px solid #ddd">
</ul>

<p>Here's the simplest way to draw a triangle. You can edit the mode on line 61 to render points or lines instead (ex: gl.LINE_LOOP)
<br>
<br>
<iframe height=900 src="https://xem.github.io/webgl-guide/visualizer/#PGNhbnZhcyBpZD0iY2FudmFzIiB3aWR0aD00MDAgaGVpZ2h0PTQwMD48L2NhbnZhcz4KPHNjcmlwdD4KdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoIndlYmdsIik7CgovLyBWZXJ0ZXggc2hhZGVyOgovLyBJbiB0cmlhbmdsZSBtb2RlLCBwb2ludFNpemUgaXMgbm90IG5lY2Vzc2FyeQp2YXIgdnNoYWRlciA9IGAKYXR0cmlidXRlIHZlYzQgcG9zOwp2b2lkIG1haW4oKSB7CiAgZ2xfUG9zaXRpb24gPSBwb3M7Cn1gOwoKLy8gRnJhZ21lbnQgc2hhZGVyOgp2YXIgZnNoYWRlciA9IGAKcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7CnVuaWZvcm0gdmVjNCBjb2xvcjsKdm9pZCBtYWluKCkgewogIGdsX0ZyYWdDb2xvciA9IGNvbG9yOwp9YDsKCi8vIENvbXBpbGUgc2hhZGVycyBhbmQgcHJvZ3JhbQp2YXIgdnMgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7CmdsLnNoYWRlclNvdXJjZSh2cywgdnNoYWRlcik7CmdsLmNvbXBpbGVTaGFkZXIodnMpOwp2YXIgZnMgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTsKZ2wuc2hhZGVyU291cmNlKGZzLCBmc2hhZGVyKTsKZ2wuY29tcGlsZVNoYWRlcihmcyk7CnZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpOwpnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdnMpOwpnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpOwpnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTsKZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTsKCi8vIEdldCBzaGFkZXJzIGF0dHJpYnV0ZXMgYW5kIHVuaWZvcm1zCnZhciBwb3MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAncG9zJyk7CnZhciBjb2xvciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAnY29sb3InKTsKCi8vIFNldCBjb2xvcgpnbC51bmlmb3JtNGYoY29sb3IsIDEuMCwgMC4wLCAwLjAsIDEuMCk7CgovLyBGaWxsIGEgYnVmZmVyIHdpdGggcGFpcnMgb2YgeC95IGNvb3JkaW5hdGVzIGFuZCBwYXNzIHRoZW0gdG8gdGhlIHBvcyBhdHRyaWJ1dGUgb2YgdGhlIHZlcnRleCBzaGFkZXIgCnZhciB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAuNSwgICAtMC41LCAtMC41LCAgIDAuNSwgLTAuNV0pOwp2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7CmdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpOwpnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydGljZXMsIGdsLlNUQVRJQ19EUkFXKTsKZ2wudmVydGV4QXR0cmliUG9pbnRlcigKICBwb3MsICAgICAgLy8gdGFyZ2V0CiAgMiwgICAgICAgIC8vIHNpemUKICBnbC5GTE9BVCwgLy8gdHlwZQogIGZhbHNlLCAgICAvLyBub3JtYWxpemUKICAwLCAgICAgICAgLy8gc3RyaWRlCiAgMCAgICAgICAgIC8vIG9mZnNldAopOwpnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3MpOwoKLy8gQ2xlYXIgY2FudmFzCmdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMSk7CmdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOwoKLy8gUmVuZGVyCmdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCAzKTsgLy8gZHJhdyAzIHZlcnRpY2VzIGFzIGEgdHJpYW5nbGUKCjwvc2NyaXB0Pg=="></iframe>


<h4>Translate, rotate, scale</h4>

<p>Vertices are represented on vec4's to ease these transformations.

<p>
<ul>
<li>To translate a vertex, you can add three offsets Tx, Ty and Tz to its coordinates:
<br>x' = x + Tx
<br>y' = y + Ty
<br>z' = z + Tz

<br>This can be summarized in a single matrix transformation:
<p>

<math xmlns = "http://www.w3.org/1998/Math/MathML">
   <mrow>
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;=&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>1</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>Tx</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>Ty</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
            <mtd><mn>Tz</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;x&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
   </mrow>
</math>

<li>To rotate a vertex around the Z axis with an angle β, you can use the Euler equations:
<br>x' = x cos β – y sin β
<br>y' = x sin β + y cos β
<br>z' = z

<br>or:
<p>

<math xmlns = "http://www.w3.org/1998/Math/MathML">
   <mrow>
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;=&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>cos β</mn></mtd>
            <mtd><mn>-sin β</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>sin β</mn></mtd>
            <mtd><mn>cos β</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;x&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
   </mrow>
</math>

<li>To scale a shape, you can multiply its vertices coordinates with scale factors:
<br>x' = Sx * x
<br>y' = Sy * y
<br>z' = Sz * z

<br>or:
<p>

<math xmlns = "http://www.w3.org/1998/Math/MathML">
   <mrow>
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z'</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;=&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>Sx</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>Sy</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>Sz</mn></mtd>
            <mtd><mn>0</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>0</mn></mtd>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
      &nbsp;x&nbsp;
      <mo>[</mo>
      <mtable>
         <mtr>
            <mtd><mn>x</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>y</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>z</mn></mtd>
         </mtr>
         
         <mtr>
            <mtd><mn>1</mn></mtd>
         </mtr>
      </mtable>
      <mo>]</mo>
   </mrow>
</math>

<li>Multiple transformations can be accumulated by adding their matrices!

</ul>

</div>

</main>

</div>

<footer></footer>

<script src="../ui.js"></script>
<script>
header();
footer();
menu();
</script>

</body>
</html>
