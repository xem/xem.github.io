<!doctype html>
<meta charset=utf-8>
<meta name="viewport" content="width=device-width, user-scalable=no">
<html>
<head>
<link rel=stylesheet href="../style.css?v=2024-07">
<title>Maxime Euzière</title>
<base target=_blank>
</head>
<body>

<style>
.twitter-tweet { margin: 30px 0 !important; border: 3px solid #ccc; border-radius: 30px; overflow: hidden; transform: scale(.95)}
ul { padding-left: 15px }
</style>

<div class="wrapper">

<header></header>

<div id=menu></div>

<main>

<div class=section id=codegolfctober18>

<h2>JS13k'25: I GOT UP ON THE WRONG FOOT!</h2>
<br><h3>August-September 2025</h3>
<p><img src="images/js13k25/small.png">

<br>
<p><b>TL;DR</b>
<ul>
<li>My game is playable <a href="https://js13kgames.com/2025/games/i-got-up-on-the-wrong-foot">HERE</a>
<li>Source code is available <a href="https://github.com/xem/js13k25">HERE</a>
<li>It was ranked 17 / 176 (and 12 / 73 on Mobile) !
<li>You can see a playthrough video here (spoilers!):
<br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XwFYRf13knM?si=XN85rgJlaBA3lwuD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</ul>
<br><hr>
<p><b>Introduction</b>
<p>Hello and welcome to this new edition of JS13kGames!
<p>This year the theme was <b>BLACK CAT</b>, and I didn't approach the competition like the previous years:
<p>First, I've had a busy (and pleasant 💙) summer, so I haven't really started working on my entry until August 21, one week after the beginning of the jam.
<p>Besides that, this year's theme didn't really inspire me any game idea, or more precisely, nothing that I found fun enough.
<p>I spent two full weeks wondering what I could create, or <b>if</b> I'd actually create something this year. I even asked repeatedly to my friends and various AI's what I could do, but nothing really clicked for me.
<p>One AI suggested a game about Schrödinger's cat, that could switch between states (like alive/dead) to solve puzzles. That's definitely a game I'd like to play, but as a game dev, I wasn't inspired enough to build it myself.
<p>For inspiration, my dear Séverine drew these concept arts of black cats on paper, which helped me a lot when I ended up adding the black cat in my game!
<p><img src="images/js13k25/s1.jpg">
<br><br><hr>
<p><b>August 13-20: brainstorming</b>
<p>While the days were passing, I ended up considering to make a game about making superstitions come true to have bad luck. Extensive online searches (and a bit of AI) helped me gather a long list of events that were considered bad luck in multiple different countries (to avoid having hyper specific beliefs only existing in Paraguay for example).
<p>Here's the list I ended up with (mix of vaious french and english sources, so son't be surprised if it contains duplicates):
<details>
<summary>Click to expand</summary>
<ul>
<li>Breaking a mirror is said to bring seven years of bad luck
<li>A bird or flock of birds going from left to right
<li>The number 13.
<li>The number 666.
<li>Friday the 13th
<li>Failing to respond to a chain letter
<li>Giving a clock as a gift (China)
<li>Some believe hanging a horseshoe with the ends pointing down is bad luck
<li>Opening an umbrella while indoors
<li>On the Isle of Man, rats are referred to as "longtails" as saying "rat" is considered bad luck.
<li>Ravens, crows and magpies
<li>Saying the word "Macbeth" or wishing someone "Good Luck" while inside a theatre
<li>Shoes on a table
<li>Placing a hat on a bed
<li>Three on a match
<li>Tipping a salt shaker over
<li>Viewing one's doppelgänger may be considered a harbinger of bad luck
<li>Killing a ladybug
<li>Walking under a ladder
<li>Black cat crossing one's path
<li>Picking up a penny with the tails side up
<li>carry an empty bucket
<li>put the bread upside down
<li>cross knives on a table
<li>light a candle using another candle
<li>sweeping during the night
<li>"trinquer" without looking in the eyes
<li>bird looking inside from a window
<li>getting up on the left foot
<li>broken clock
<li>wear green clothes
<li>Briser un miroir : Apporte sept ans de malchance, car cela endommage l'âme reflétée.
<li>Ouvrir un parapluie à l'intérieur : Invite la malchance ou des accidents domestiques.
<li>Renverser du sel : Symbole de trahison ou de malheur ; il faut en jeter par-dessus l'épaule gauche pour contrer.
<li>Passer sous une échelle : Brise un triangle sacré (représentant la Trinité ou la stabilité), attirant le malheur.
<li>Un chat noir croisant le chemin : Annonce un malheur imminent, lié aux sorcières ou aux esprits.
<li>Vendredi le 13 : Jour de malchance générale, avec risques d'accidents ou de pertes.
<li>Le nombre 13 : Porte-malheur, souvent évité dans les bâtiments ou les vols.
<li>Marcher sur une fissure dans le sol ou le trottoir : Peut causer du mal à un proche ou briser la chance.
<li>Placer des chaussures sur une table : Symbolise la mort ou invite le malheur dans la maison.
<li>Mettre un chapeau sur un lit : Attire la mort ou une dispute.
<li>Siffler à l'intérieur ou la nuit : Attire les esprits maléfiques ou les serpents.
<li>Tuer une araignée : Provoque de la pluie ou une perte de chance.
<li>Voir un hibou ou une chouette : Annonce la mort ou un malheur.
<li>Le nombre 4 : Sonnant comme "mort" en plusieurs langues asiatiques, il apporte le malheur.
<li>Poser du pain à l'envers : Insulte symbolique qui attire la famine ou le malheur.
<li>Couper les ongles la nuit : Attire les esprits ou cause une mort prématurée.
<li>Balayer les pieds de quelqu'un : Condamne à la solitude ou au célibat éternel.
<li>Dormir avec la tête vers le nord : Aligné avec les morts, attire la malchance ou la maladie.
<li>Donner une horloge en cadeau : Symbolise la fin du temps, annonçant la mort.
<li>Allumer une cigarette avec une bougie : Cause la mort d'un marin ou attire le malheur.
<li>Placer des clés sur une table : Attire les voleurs ou la pauvreté.
<li>S'asseoir au coin d'une table : Condamne au célibat ou à la solitude.
<li>Le nombre 666 : Symbole du diable, apporte des catastrophes.
<li>Voir un oiseau entrer dans la maison : Annonce la mort ou un malheur familial.
<li>Pointer vers un arc-en-ciel : Attire la malchance ou des verrues.
<li>Dormir avec un ventilateur allumé : Cause l'asphyxie ou attire les esprits.
<li>Laisser des ciseaux ouverts : Invite les disputes ou le malheur.
<li>Porter des perles ou opales (sauf si né en octobre) : Apporte des larmes ou du malheur.
<li>Entrer et sortir par des portes différentes : Brise l'harmonie et attire les esprits.
<li>Voir un corbeau seul : Omen de mort ou de solitude.
<li>Renverser du poivre : Attire les disputes ou la malchance financière.
<li>Placer deux miroirs face à face : Ouvre un portail pour le diable ou les esprits.
<li>Laisser tomber un peigne : Annonce une déception ou une perte personnelle.
<li>Croiser des couverts sur une table : Provoque des disputes ou des malentendus.
<li>Porter des vêtements à l'envers : Attire la confusion ou des erreurs.
<li>Regarder une nouvelle lune à travers une fenêtre : Apporte des revers financiers.
<li>Entendre un coq chanter la nuit : Prédit une mort ou un désastre imminent.
<li>Renverser de l'huile : Symbole de perte de richesse ou de chance.
<li>Mettre des chaussettes dépareillées : Cause des malentendus ou des échecs.
<li>Laisser une chaise vide basculer : Attire les esprits ou la malchance dans la maison.
<li>Dire le mot "mort" dans une maison : Invite la mort ou les esprits.
<li>Oublier de fermer une porte la nuit : Permet aux esprits d'entrer.
<li>Compter les étoiles : Attire des malheurs ou raccourcit la vie.
<li>Offrir un couteau en cadeau : Coupe l'amitié ou provoque des conflits.
<li>Marcher sur une tombe : Dérange les morts et attire leur colère.
<li>Laisser une assiette vide sur la table : Attire la pauvreté ou la faim.
<li>Regarder directement un corbeau : Attire son attention maléfique.
<li>Placer un balai à l'envers : Cause des problèmes domestiques.
<li>Entendre un chien hurler la nuit : Annonce un décès ou un danger.
<li>Renverser du vin : Gâche la chance ou provoque des pertes.
<li>Laisser des lunettes sur une table : Attire la malchance ou des disputes.
<li>Tuer une coccinelle : Détruit un symbole de chance, causant l'inverse.
<li>Allumer trois cigarettes avec une seule allumette : Porte malheur, lié à des traditions de guerre.
<li>Oublier de toucher du bois après une vantardise : Attire le mauvais sort.
<li>Marcher à reculons : Invite les esprits ou provoque des accidents.
<li>Laisser un livre ouvert à l'envers : Attire la malchance ou la confusion.
<li>Porter des vêtements noirs à un mariage : Prédit l'échec du couple.
<li>Faire tomber une icône ou un objet sacré : Offense le divin, causant le malheur.
<li>S'asseoir sur une table : Attire la pauvreté ou des conflits familiaux.
<li>Laisser une porte ouverte derrière soi : Permet aux mauvaises énergies d'entrer.
<li>Tuer un criquet : Détruit un porte-bonheur, attirant la malchance.
<li>Oublier de saluer un corbeau : Offense l'oiseau, attirant son courroux.
<li>Renverser de l'encre : Symbole de perte de savoir ou de malentendus.
<li>Laisser une bougie s'éteindre seule : Attire les esprits ou la malchance.
<li>Passer un balai sur quelqu’un : Repousse la chance ou cause des disputes.
<li>Porter un bijou cassé : Attire les échecs ou les ruptures.
<li>Oublier une prière avant un voyage : Expose à des accidents ou des retards.
<li>Laisser un miroir face à un lit : Attire les cauchemars ou les esprits.
<li>Dire "bonne chance" directement : Ironiquement, attire la malchance.
<li>Laisser des cendres dans une cheminée : Attire la pauvreté ou le froid.
<li>Rencontrer un corbeau à gauche : Signe de malheur imminent.
<li>Couper du bois la nuit : Attire les esprits ou des accidents.
<li>Oublier de cracher après avoir vu un chat noir : Aggrave la malchance.
<li>Laisser une fenêtre ouverte la nuit : Permet aux esprits d'entrer.
<li>Marcher sous un arbre pendant un orage : Attire la foudre ou le malheur.
<li>Renverser du sucre : Cause des pertes ou des disputes mineures.
<li>Tuer un papillon de nuit : Attire la malchance ou des perturbations.
<li>Laisser un parapluie ouvert à l'intérieur : Prolonge la malchance.
<li>Compter les convives à 13 à table : Prédit la mort d’un des présents.
<li>Laisser une chaise vide à table : Invite un esprit ou un malheur.
<li>Porter des chaussures neuves à l’intérieur : Attire des échecs précoces.
<li>Regarder une étoile filante sans faire un vœu : Gaspille la chance, attirant l’inverse.
<li>Pointer du doigt un arc-en-ciel : Attire la malchance ou des problèmes physiques comme des verrues. 
<li>Accrocher un fer à cheval pointe vers le bas : Laisse la chance s'échapper. 
<li>Planter des baguettes droites dans un bol de riz : Symbolise la mort et invite le malheur. 
<li>Prononcer "Macbeth" dans un théâtre : Porte malheur à la production, attirant des accidents. 
<li>Allumer trois cigarettes avec une seule allumette : Attire la mort ou des catastrophes. 
<li>Voir son doppelgänger : Annonce un malheur imminent ou la mort. 
<li>Tuer une coccinelle : Détruit un symbole de chance, causant des revers. 
<li>Ramasser une pièce côté pile visible : Apporte la malchance au lieu de la fortune. 
<li>Les malheurs arrivent par trois : Les événements négatifs se produisent en série de trois. 
<li>Laver des vêtements juste avant le Nouvel An : Attire la pauvreté ou des pertes toute l'année. 
<li>Un oiseau ou un vol d'oiseaux passant de gauche à droite : Signe de malheur imminent. 
<li>Offrir des opales ou des perles non achetées : Apporte des larmes ou des tragédies. 
<li>Posséder une voiture verte : Augmente les risques d'accidents ou de pannes. 
<li>Voir des rats comme omen : Prédit une catastrophe ou la mort. 
<li>Larmes de la mariée au mauvais moment : Annonce un mariage malheureux. 
<li>Se marier dans la même église où l'on a été baptisé : Porte malheur au couple. 
<li>Tirer le quatre de trèfle aux cartes : Rend les bonnes mains mauvaises. 
<li>Avoir la "main du mort" (as et huit) au poker : Symbole de défaite ou de mort. 
<li>Laisser tomber une carte pendant une partie : Attire la défaite ou des erreurs. 
<li>Couper un gâteau de Noël trop tôt : Coupe la chance pour l'année. 
<li>Rembourser un prêt le jour du Nouvel An : Cause des dépenses constantes. 
<li>Une femme en période menstruelle conserve des fruits : Fait pourrir les conserves. 
<li>Une femme en période menstruelle fait du pain : La pâte ne lève pas. 
<li>Mardi le 13 : Jour de violence et de malheur. 
<li>Ignorer une chaîne de lettres : Attire des revers ou des punitions. 
<li>Retourner chez soi après avoir commencé un voyage : Brise la chance du périple. 
<li>Souhaiter un anniversaire en avance : Porte malheur au destinataire. 
<li>Entendre ou voir une chouette hululer : Annonce la mort ou des problèmes de santé. 
<li>Marcher sur les fissures d'un trottoir : Cause du mal à un proche. 
<li>Voir un corbeau ou une pie comme omen : Prédit la solitude ou la trahison. 
<li>Un coyote traversant le chemin : Signe de danger imminent. 
<li>Apporter des bananes sur un bateau : Porte malheur à la pêche ou au voyage. 
<li>Avoir une femme à bord d'un bateau : Attire les tempêtes ou les accidents. 
<li>Porter du bleu sur un bateau : Couleur malchanceuse en mer. 
<li>Retourner un poisson cuit : Fait chavirer un navire. 
<li>Secouer les jambes assis : Fait fuir la richesse. 
<li>Complimenter un bébé : Attire le mauvais œil sur l'enfant. 
<li>Trébucher sur quelque chose : Signe de malchance à venir. 
<li>Boire de l'eau reflétant la lune : Apporte des revers. 
<li>Dire "bonne chance" dans un théâtre : Attire l'échec, mieux dire "merde" ou "break a leg". 
<li>Porter des vêtements verts : Associe à des calamités dans certains folklores. 
<li>Mélanger du vin et de la pastèque : Cause des maladies ou la mort. 
<li>Entendre un crake des marais à gauche : Apporte la malchance. 
<li>Couper les ongles d'un bébé avant 6 mois : Rend l'enfant voleur. 
<li>Brûler les chiffons avant un déménagement : Évite que le malheur suive. 
<li>Avoir une visiteuse féminine le 1er janvier : Porte malheur pour l'année. 
<li>Mélanger des bières différentes : Attire des problèmes. 
<li>Mettre des vêtements à l'envers : Invite une correction physique ou des erreurs. 
<li>Se marier un mardi : Associe à des voyages ou des unions ratés. 
<li>Éviter de manger de la viande de chèvre pour les femmes : Cause des anomalies physiques. 
<li>Briser un miroir
<li>Passer sous une échelle
<li>Un chat noir traversant le chemin
<li>Renverser du sel
<li>Ouvrir un parapluie à l'intérieur
<li>Le vendredi 13
<li>Le nombre 13
<li>Le malheur arrive par trois
<li>Marcher sur une fente dans le trottoir
<li>Tuer une coccinelle
<li>Allumer une cigarette avec une bougie
<li>Poser le pain à l'envers
<li>Poser des chaussures sur une table
<li>Verser de l'eau qui reflète la lune
<li>Accrocher un fer à cheval pointe vers le bas
<li>Tuer une araignée
<li>Un oiseau entrant dans la maison
<li>Renverser du poivre
<li>Couper les cheveux ou les ongles un vendredi
<li>Dormir la tête vers le nord
<li>Poser un sac par terre (perte d'argent)
<li>Un corbeau croassant près de la maison
<li>Poser un chapeau sur un lit
<li>Laisser des ciseaux ouverts
<li>Voir une chouette en plein jour
<li>Mettre des chaussures neuves sur la table
<li>Balayer les pieds de quelqu'un
<li>Donner des fleurs jaunes
<li>Poser des clés sur une table (attire le malheur)
<li>Un miroir brisé non enterré
<li>Dormir avec un ventilateur allumé
<li>Laisser une porte ouverte la nuit
<li>Voir un seul corbeau
<li>Placer deux miroirs face à face (ouvre un seuil au diable)  
<li>Serrer la main ou embrasser à travers un seuil (transforme un ami en ennemi)  
<li>Planter des baguettes droites dans un bol de riz (invite la mort)  
<li>S'asseoir au coin d'une table (empêche le mariage)  
<li>Mâcher du chewing-gum la nuit (se transforme en chair des morts)  
<li>Porter du rouge pendant un orage (attire la foudre)     
<li>Ouvrir et fermer des ciseaux sans couper   
<li>Mélanger vin et pastèque  
<li>Le vendredi 13 
<li>Ramasser un peigne par terre   
<li>Allumer trois cigarettes avec la même allumette  
<li>Oiseaux noirs comme corbeaux ou pies  
<li>Sac ou portefeuille par terre (perte financière)  
<li>Refuser un baiser sous le gui  
<li>Frapper quelqu'un avec un balai  
<li>Balayer le jour du Nouvel An (balaye la bonne chance)  
<li>Pointer un arc-en-ciel  
<li>Une chouette survolant une maison  
<li>Mettre un chapeau sur un lit  
<li>Verser du sel renversé   
</ul>
</details>

<p>I remarked that a lot of these things could somehow happen in a single day and a single place (like a small house with a garden).
<p>So I picked my 40 favourite items and imagined a little scenario where a man would get up on the wrong foot (in french we say "on the left foot"), and started a game where he has an entire day to be as unlucky as possible.
<p>I scribbled my list, a quick intro storyboard and a plan of the house on my old and faithful notepad:
<p><img src="images/js13k25/1.jpg">
<p>If you've already played the game, you can see how most of the final game was already present in this very early draft.
<p>What you can also see is an ambitious art direction, where the camera sees everything from above, like a menacing presence over the hero's head.
<p>And it's a good thing: I really want this year's entry to include things that I've never done before, or even things that were never seen before in any js13k entry... like a real day-night cycle, weather events, or an absurd amount of SVG graphics. I want it to be innovative, impressive and challenging (I mean, challenging for me, to make).

<br><br><hr>

<p><b>August 21-31: Scene layout</b>

<p>Speaking of ambitious point of view, I decided to use my (also faithful) <a href="https://xem.github.io/CSS3Dframework/">CSS3DFramework</a> to create a big scene containing a house with 4 rooms, a garden and a toolshed, entirely using CSS3D planes and cubes. I stripped all the other shapes and features from the framework to make it use as little space as possible (~2kb minified, <a href="https://github.com/xem/js13k25/blob/gh-pages/c.js">see source code here</a>), omitted the top side of the cubes to be able to see each room's interior from above, and added a bit of CSS to let each side of the cube be colored in a slightly different shade of grey.

<p><b>Bedroom:</b>
<p><img src="images/js13k25/s5.jpg" width=300>
<p>Looks nice, especially the black wall corners getting thicker when they approach the camera, which is not super easy to achieve in 2D, and comes for free here.

<p><b>Whole world:</b>
<p><img src="images/js13k25/2.jpg" width=300>
<p>It seems to work well so far, and doesn't use too much space too: 1.5kb zipped! Let's continue...

<p>I wondered a bit how to fill my room with various objects, objects that i'd like to draw in SVG with my (still faithful) tool <a href="https://xem.github.io/miniSVGcreator/">MiniSVGCreator</a>. Some are on the floor, some are on walls. All of them must be seen with a zenithal perspective. The ony viable solution I could find to not have weird shape overlaps was to put my objects on a separate layer, above the cubes, and to draw and position them in a way that make them look like they are in the room.

<p><b>Bedroom draft with 3 SVGs</b>
<p><img src="images/js13k25/3.jpg" width=300>
<p>At this moment, I decided to make a (mostly) monochrome game, to enhance the gloomy "unlucky" atmosphere (and not waste time and bytes choosing a color palette for everything, too).

<p><b>Elliot (on Slack) explained me how I could fix my perspective</b>
<p><img src="images/js13k25/s6.jpg" width=300>
<p>Thanks bro! Even though both our aproaches are equivalent as long as the camera is perfectly centered in the room, you are the only one who pointed the perspective issues in my screenshots.

<p><b>Bedroom with more (draft) SVGs</b>
<p><img src="images/js13k25/4.jpg" width=300>
<p>Some things (window, doors, bed) look better than others (chair, cupbard).

<p><b>Bathroom draft</b>
<p><img src="images/js13k25/5.jpg" width=300>
<p>It's surprisingly uneasy to draw a convincing shower from above. Toilet and sink are challenging too.

<p><b>Living room draft</b>
<p><img src="images/js13k25/s7.jpg" width=300>
<p>Here you can see a small fan on the floor. I intended to have it in the game initially ("sleeping with a fan on" brings bad luck) but it got scraped because it would have been too complicated to animate. Also, I was too lazy to implement all the code required to take it, bring it to the bedroom, plug it on a wall, and turn it on. I had better things to do! Also, the chairs and couch look weird here due to a bad perspective and incomplete SVG paths, but I will redraw them better.

<p><b>Kitchen draft</b>
<p><img src="images/js13k25/k.jpg" width=300>
<p>Almost nothing changed between this image and the final game, yay!

<p><b>Garden draft</b>
<p><img src="images/js13k25/s8.jpg" width=300>
<p>The challenge here is to draw a tree from above.

<p>Here's a screenshot of when I was drawing an item (broom facing down) in my editor. The text highlighted in blue is the SVG output. Raw SVG sizes range from 170 bytes (door) to 470 bytes (cupboard) depending on their complexity.

<p><img src="images/js13k25/15.jpg" width=500 style="border:2px solid">

<p>Without any interactivity, this early version of the game's world weighs 4.7kb zipped. It's a chance that SVG graphics compress very well, because I want to include as many as possible! (probably around 60).

Here's a glimpse of the code I wrote to draw the kitchen with my CSS3DFramework (full file <a href="">HERE</a>)

<pre><code class="lang-js">// kitchen
C.cube({x:-100,y:-100,z:70,w:300,h:300,d:300,b:"#ddd",css:"cube"});

  // doors
  C.plane({w:51,h:51,x:-209,y:360,z:300,rz:-90,html:svg.door,css:"living room door",n:"lrd2"});
  C.plane({w:51,h:51,x:-109,y:215,z:300,sx:-1,html:svg.door,css:"bathroom door"});
  
  // fridge
  C.plane({w:56,h:77,x:-190,y:230,z:300,html:svg.fridge,css:"fridge"});
  
  // plane/cupboard
  C.plane({w:53,h:100,x:-21+3,y:365,z:300,rz:180,sx:1.2,html:svg.plane,css:"cupboard",n:"plane"});
  
  // bread
  C.plane({w:18,h:40,x:-37,y:400,z:300,rz:180,html:svg.bread,css:"bread hidden",n:"bread"});
  
  // sink
  C.plane({w:50,h:100,x:-20+3,y:237,z:300,rz:180,sx:1.3,html:svg.sink,css:"sink"});
  
  // broom
  C.plane({w:19,h:50,x:-185,y:310,z:330,rz:-90,html:svg.broom,css:"broom",n:"broom"});
  
  // knives
  C.plane({w:12,h:29,x:-23,y:260,z:300,rz:30,html:svg.knive,css:"knive",n:"knive1"});
  C.plane({w:12,h:29,x:-15,y:297,z:300,rz:100,html:svg.knive,css:"knive",n:"knive2"});
  C.plane({w:12,h:29,x:-15,y:297,z:300,rz:30,html:svg.knive,css:"knive hidden",n:"knive3"});

  // oven
  C.plane({w:55,h:65,x:-32+3,y:330,z:340,rz:180,html:svg.oven,css:"oven"});
  
  // Hanger
  C.plane({w:8,h:11,x:-120,y:470,z:300,rz:180,html:svg.hanger,css:"hanger",n:"hanger3"});
  
  // mirror
  C.plane({w:29,h:46,x:-120,y:435,z:300,rz:180,sy:.7,html:svg.mirror,css:"mirror",n:"mirror1"});
  
  // Horseshoe
  C.plane({w:50,h:50,x:-117,y:449,z:300,rz:180,sy:.7,html:svg.horseshoe,css:"horseshoe hidden",n:"horseshoe2"});
</code></pre>

<p>The organization of my code here is very similar to the one I used in <a href="js13k23.html">CASTLE ESCAPE</a> two years ago: use plain english css classes like "sink" or "mirror" (which will help me write each object's name when the mouse hovers it: I will simply display their css class), the "hidden" class makes an object invisible (like the horseshoe, which is turned visible if the player decides to hang it in the kitchen).

<p>I also had a bad surprise when I tried my prototype on Firefox: everything looked super blurry!

<p><img src="images/js13k25/11.jpg">

<p>But I realized it was only the case when the page was un-zoomed. At 100% it was not great, but good enough. And I'm already late so I won't lose extra time trying to fix a well-known Firefox bug (it's the only browser that rasterizes SVGs when they have CSS transforms applied to them... and my SVGs are so tiny (99x99px) that the rastering becomes very visible when they are scaled up, hence the blur).

<br><br><hr>

<p><b>September 1-7: interactivity</b>

<p>Two weeks after the beginning of the jam, I finally started to code my first interactions, starting with the hover effects (to show the name of every object plus walls and floor), and some easy click interactions (rotate bed, open window, open cupboard). Of course, each piece of furniture that has two states (like "open" and "closed") requires two distinct SVG graphics, so I drew them little by little too.

<p><video src="images/js13k25/12.mp4" controls></video>

<p>Aaaand it's Webkit's turn to become buggy. Not a display bug, but a hover bug. For some reason, the upper half of east and west walls don't trigger mouseover/mousemove events, so in Chrome, Edge and Safari, there will be some blanks when you move the mouse across the room. I actually spent a couple hours trying to find a fix, but nothing worked. Whatever.

<p>As you can see, I also drew the hero in the room and made him able to rotate towards the mouse pointer (thanks again to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2">Math.atan2</a> for making this easy, even though I will never not find it weird that atan2's arguments are (y,x) and not (x,y)...).

<p>However, allowing the hero to actually move around the room was more complex. So complex that I considered not implementing it at all, but I finally decided to do this effort so we could realize two of the game's achievements (walk under a ladder and walk on a crack).

<p>What made the walk interaction difficult, you may ask? Well, the character's sprite is not placed in the room. It's not even placed on the SVGs layer. It's on an even higher plane (to make it visible above all the other objects in the room). As a result, its X and Y coordinates must be precisely adjusted to make it look like he's actually on the floor. Otherwise, if they simply followed the mouse click coordinates, all the movements would look completely exaggerated and the hero would move too far.

<p>Here's a slightly exaggerated view of the 3 "layers" of the bedroom, seen from the side: the room, the SVGs just above, and the hero a bit higher. ✨ Everything is an illusion! ✨

<p><img src="images/js13k25/o3.png">

<p>And here's what would happen if the hero followed the mouse clicks without any adjustment: the video below shows the hero's sprite at 3 different heights: ground level, middle of the room and top of the room. The one present in the game is the highest one, and due to its closeness to the camera and the perspective of the scene, it wouldn't have followed the mouse like the lowest one does. I hope it's clear enough?

<p><video src="images/js13k25/o6.mp4" controls width=400></video>

<p>Well, if the room's walls were drawn in 2D using SVGs instead of 3D, it would have made this part much easier to implement (the floor, the objects and the hero could have been put more or less on the same level), but now that it's done like that, I won't bother changing it.

<p>In the garden, there's a 4th layer of SVGs, for the tree top and the ladder that must be visible above the hero's head.

<p><img src="images/js13k25/o4.png">

<p>But let's continue coding all the interactions in the game, shall we? The easy ones are to open/close a piece of furniture, and the most complex ones consist in grabbing an object, then use it on another object, or put it somewhere else, and sometimes wait a certain amount of time to trigger another event.

<p><video src="images/js13k25/13.mp4" controls></video>

<p>A few days later... I added my little intro cutscene and almost finished all the bedroom actions.

<p><video src="images/js13k25/14.mp4" controls></video>

<p>Little by little, at the end of the week, all the rooms were playable and 20 achievements were already doable from my short-list of 33... which I finally reduced to 26 (because it's 2 x 13). Here are the 7 achievements that I eventually scraped:

<ul>
<li>see an owl</li>
<li>let candle burn out</li>
<li>sleep with window open</li>
<li>sleep with fan on</li>
<li>watch new moon</li>
<li>see a broken clock</li>
<li>kill a ladybug</li>
<li>carry an empty bucket</li>
</ul>

<p>And the simple game over screen that I put together once we decide to go to sleep:

<p><img src="images/js13k25/o5.png" width=400>

<p>We're already September 7 and I don't have my black cat yet! Well, I know how I want to do it... but I'm super late!

<br><br><hr>

<p><b>September 8-13: a million final touches</b>

<p>During this final week, I worked on the game 5-7 hours per day in order to finish it on time (and wish I had started a week earlier). During the two previous weeks, I only spent 1-2 hours a day on it, which also didn't help progressing as much as I hoped.

<p>I modified the rooms layout and decoration a lot, and redrew most of my SVGs in their final version... including the cat!

<p><img src="images/js13k25/s16.jpg">

<p>The game contains a total of 74 svg graphics, including one left foot emoji (for the favicon) and 73 hand-drawn sprites. A new record! (Castle Escape only had 28. Amateur!)

<p><a href="images/js13k25/o2.png"><img src="images/js13k25/o2.png"></a>

<p>(click to enlarge)

<p>Besides that, in the JS code, there is a total of 193 functions, 132 of them corresponding to actions that are triggered with the mouse, by the player, and the others being used for the music, sounds, timer, SVGs, menus, mouse events, intro, outro and setTimeouts (i.e. delays/keyframes in the cutscenes).

<p>Here's a little behind-the-scenes video showing how the camera moves between rooms, if I enable camera transitions and remove the fade-to-black transitions. As you can see, the whole world is present in memory (in the DOM) at any given time, which helps a lot in terms of rendering and object persistence. (In Castle Escape, I had to redraw each room in the right state everytime we passed a door, and it was tedious. Here, everything stays in place and it's just the camera that moves around.

<p><video src="images/js13k25/bts.mp4" controls width=500></video>

<p>Even if everything is loaded at the same time, the page is not too heavy (483 DOM elements inside the &lt;body>).

<p>The game's state, however, is still saved in a <a href="https://github.com/xem/js13k25/blob/gh-pages/state.js">big object</a>, in order to know if a given action has been done and if a specific achievement has been completed.

<p>Then it's time to work on a big part of the game, the outside view, where we will see the entire day pass, but also the black cat, the rain, the thunder and a rainbow (at various times of the day). Here's a ~15 minutes video showing a full day passing at the garden's gate:

<p><video src="images/js13k25/21.mp4" controls></video>

<p>You can see the cat pass by at 13h13, the rain start at 15h30, the thunder start at 16h00 and a rainbow appear at 18h15 (in-game time).

<p>The sky color follows a simple (but convincing) CSS animation and the rainbow is made from a single radial-gradient on a big div:

<pre><code class="lang-css">@keyframes sky {
  5% { background: #000 }  /* 8h night */
  8% { background: #F41 }  /* 9h30 sunrise */
  10% { background: #d60 } /* 9h30 sunrise */
  20% { background: #8ce } /* 11h */
  30% { background: #8cc } /* 12h30 cat */
  40% { background: #8aa } /* 14h */
  50% { background: #444 } /* 15h30 rain */
  60% { background: #444 } /* 17h rain */
  70% { background: #8ce } /* 18h30 rainbow */
  80% { background: #135 } /* 20h */
  90% { background: #000 } /* 21h30 night */
}

#view { animation: sky 1000s; }

#rainbow { 
  background: radial-gradient(
    circle,
    rgba(0,0,0,0) 60%,
    rgba(192, 0, 255, 1) 65%,
    rgba(0, 192, 255, 1) 70%,
    rgba(255, 255, 0, 1) 75%,
    rgba(255, 0, 0, 1) 80%,
    rgba(0,0,0,0) 85%
  )
}</code></pre>

<p>The sun is just a separate yellow div going up and right in a straight line.

<p>Overall, there is a very small amount of code used to implement such a long sequence of events, and I'm happy of how it turned out.

<p>For the rain's graphics, I decided to do the easiest possible thing: blue lines drawn on a canvas, at random positions, 20 times per second. In the outside view, they are parallel, and in the garden and the tool shed, they all point to the center of the screen.

<p><video src="images/js13k25/20.mp4" controls width=500></video>

<p>(Sorry, I recorded my music at the same time, hehehe)

<p>Here's how I coded it:

<p><pre><code class="lang-js">// Rain
ctx = rain.getContext("2d");
setInterval((x,y,i)=>{
  rain.width ^= 0;
  ctx.lineWidth = 4;
  ctx.strokeStyle = "#346";

  // Draw 100 lines
  for(i = 100; i--;){
    
    // Outside view (parallel lines)
    if(watching){
      ctx.moveTo(x = Math.random()*600, y = Math.random()*600)
      ctx.lineTo(x-5,y+20);
    }
    
    // Garden (concentric lines)
    else if(room == 4){
      ctx.moveTo(x = Math.random()*600, y = Math.random()*600)
      ctx.lineTo(x + (300 - x) / 10, y + (300 - y) / 10);
    }
    
    // Toolshed (same, but only in the door)
    else if(room == 5){
      ctx.moveTo(x = Math.random()*600 + 460, y = Math.random()*400+ 100)
      ctx.lineTo(x + (300 - x) / 10, y + (300 - y) / 10);
    }
  }
  ctx.stroke();
},50);</code></pre>

<p><b>DEMO</b>

<p><canvas id=rain width=600 height=600 style="border:2px solid;width:300px;height:300px"></canvas>
<p>
<button onclick="watching = 1;rai();">Rain (outside view)</button>
<button onclick="watching = 0; room = 4;rai();">Rain (garden)</button>
<button onclick="watching = 0;room = 5;rai();">Rain (tool shed)</button>

<script>
raining = 0;
rai = () => {
  if(raining) return;
  raining = 1;
  ctx = rain.getContext("2d");
  setInterval((x,y,i)=>{
    rain.width ^= 0;
    ctx.lineWidth = 4;
    ctx.strokeStyle = "#346";

    // Draw 100 lines
    for(i = 100; i--;){
      
      // Outside view (parallel lines)
      if(watching){
        ctx.moveTo(x = Math.random()*600, y = Math.random()*600)
        ctx.lineTo(x-5,y+20);
      }
      
      // Garden (concentric lines)
      else if(room == 4){
        ctx.moveTo(x = Math.random()*600, y = Math.random()*600)
        ctx.lineTo(x + (300 - x) / 10, y + (300 - y) / 10);
      }
      
      // Toolshed (same, but only in the door)
      else if(room == 5){
        ctx.moveTo(x = Math.random()*600 + 460, y = Math.random()*400+ 100)
        ctx.lineTo(x + (300 - x) / 10, y + (300 - y) / 10);
      }
    }
    ctx.stroke();
  },50);
}
</script>

 
<p>While I was adding the black cat in my exterior view, Frank Force had the great idea to post a Meow sound made with ZzFx on Slack, so I included it (lightly tweaked) in my game. Thanks to him! I added 1kb of minified code just for this "meow" but it was totally worth it.

<p><img src="images/js13k25/o1.png">

<pre><code class="lang-js">// ZZfx
zv=.3,               // volume
zx=new AudioContext, // audio context
z=                   // play sound
(p=1,k=.05,b=220,e=0,r=0,t=.1,q=0,D=1,u=0,y=0,v=0,z=0,l=0,E=0,A=0,F=0,c=0,w=1,m=0,B=0
,N=0)=>{let M=Math,d=2*M.PI,R=44100,G=u*=500*d/R/R,C=b*=(1-k+2*k*M.random(k=[]))*d/R,
g=0,H=0,a=0,n=1,I=0,J=0,f=0,h=N<0?-1:1,x=d*h*N*2/R,L=M.cos(x),Z=M.sin,K=Z(x)/4,O=1+K,
X=-2*L/O,Y=(1-K)/O,P=(1+h*L)/2/O,Q=-(h+L)/O,S=P,T=0,U=0,V=0,W=0;e=R*e+9;m*=R;r*=R;t*=
R;c*=R;y*=500*d/R**3;A*=d/R;v*=d/R;z*=R;l=R*l|0;p*=zv;for(h=e+m+r+t+c|0;a<h;k[a++]
=f*p)++J%(100*F|0)||(f=q?1<q?2<q?3<q?Z(g**3):M.max(M.min(M.tan(g),1),-1):1-(2*g/d%2+2)
%2:1-4*M.abs(M.round(g/d)-g/d):Z(g),f=(l?1-B+B*Z(d*a/l):1)*(f<0?-1:1)*M.abs(f)**D*(a<
e?a/e:a<e+m?1-(a-e)/m*(1-w):a<e+m+r?w:a<h-c?(h-a-c)/t*w:0),f=c?f/2+(c>a?0:(a<h-c?1:(h
-a)/c)*k[a-c|0]/2/p):f,N?f=W=S*T+Q*(T=U)+P*(U=f)-Y*V-X*(V=W):0),x=(b+=u+=y)*M.cos(A*
H++),g+=x+x*E*Z(a**5),n&&++n>z&&(b+=v,C+=v,n=0),!l||++I%l||(b=C,u=G,n=n||1);p=zx.
createBuffer(1,h,R);p.getChannelData(0).set(k);b=zx.createBufferSource();
b.buffer=p;b.connect(zx.destination);b.start()}

// Meow
z(...[,,1100,.05,.2,.2,2,,2,-15,,,,.1,,,,.3,.05]);</code></pre>

<script>// ZZfx
zv=.3,               // volume
zx=new AudioContext, // audio context
z=                   // play sound
(p=1,k=.05,b=220,e=0,r=0,t=.1,q=0,D=1,u=0,y=0,v=0,z=0,l=0,E=0,A=0,F=0,c=0,w=1,m=0,B=0
,N=0)=>{let M=Math,d=2*M.PI,R=44100,G=u*=500*d/R/R,C=b*=(1-k+2*k*M.random(k=[]))*d/R,
g=0,H=0,a=0,n=1,I=0,J=0,f=0,h=N<0?-1:1,x=d*h*N*2/R,L=M.cos(x),Z=M.sin,K=Z(x)/4,O=1+K,
X=-2*L/O,Y=(1-K)/O,P=(1+h*L)/2/O,Q=-(h+L)/O,S=P,T=0,U=0,V=0,W=0;e=R*e+9;m*=R;r*=R;t*=
R;c*=R;y*=500*d/R**3;A*=d/R;v*=d/R;z*=R;l=R*l|0;p*=zv;for(h=e+m+r+t+c|0;a<h;k[a++]
=f*p)++J%(100*F|0)||(f=q?1<q?2<q?3<q?Z(g**3):M.max(M.min(M.tan(g),1),-1):1-(2*g/d%2+2)
%2:1-4*M.abs(M.round(g/d)-g/d):Z(g),f=(l?1-B+B*Z(d*a/l):1)*(f<0?-1:1)*M.abs(f)**D*(a<
e?a/e:a<e+m?1-(a-e)/m*(1-w):a<e+m+r?w:a<h-c?(h-a-c)/t*w:0),f=c?f/2+(c>a?0:(a<h-c?1:(h
-a)/c)*k[a-c|0]/2/p):f,N?f=W=S*T+Q*(T=U)+P*(U=f)-Y*V-X*(V=W):0),x=(b+=u+=y)*M.cos(A*
H++),g+=x+x*E*Z(a**5),n&&++n>z&&(b+=v,C+=v,n=0),!l||++I%l||(b=C,u=G,n=n||1);p=zx.
createBuffer(1,h,R);p.getChannelData(0).set(k);b=zx.createBufferSource();
b.buffer=p;b.connect(zx.destination);b.start()}</script>


<p><b>DEMO</b>
<p><button onclick="z(...[,,1100,.05,.2,.2,2,,2,-15,,,,.1,,,,.3,.05]);">MEOW</button>

<p>Speaking of sounds, I also included my own player (from MiniSoundEditor) and 7 sounds effects (used for scribbling, walking, tipping the salt shaker, opening and closing the doors and windows, breaking the mirror, and the thunder), adding another kilobyte to my minified code.

<pre><code class="lang-js">// thunder sound
thu = (i,q,n) => {
  n=25000;
  if (i > n) return null;
  return Math.sin(i/200 - Math.sin(i/331)*Math.sin(i/61) + Math.sin(Math.sin(i/59)/39) * 33)*t(i,n)*(room > 3 ? 9 : 2);
}

// nudge Sound
nu = (i,q,n) => {
  n=6e3;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.01*Math.sin(0.009*i+Math.sin(i/200))+Math.sin(i/100))*q*q/10;
}

// scribble sound
wr = i => (Math.sin(i/200) + Math.sin(i/350) + Math.sin(i/800))* Math.exp(-i/60000)

// ting sound
ting = i => (i%10 < 5 ? 1 : -1) * Math.exp(-i/2000)

// open sound
op = (i,q,n) => {
  n=25000;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.001*Math.sin(0.009*i+Math.sin(i/200))+Math.sin(i/100))*q*q/10;
}

// Explosion sound (break glass)
ex = i => (Math.random() * 2 - 1) * Math.exp(-i/1e4);

// Step sound
step = (i,q,n) => {
  n=3800;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.01*Math.sin(0.001*i+Math.sin(i/200))+Math.sin(i/200))*q*q/9;
}

// Helper function
t=(i,n)=>(n-i)/n;

// Sound player
play = (f,r,A,m,b,i,s) => {
  A=new AudioContext()
  m=A.createBuffer(1,96e3,48e3)
  b=m.getChannelData(0)
  for(i=96e3;i--;)b[r?20000-i:i]=f(i)
  s=A.createBufferSource()
  s.buffer=m
  s.connect(A.destination)
  s.start()
}</code></pre>

<script>// thunder sound
thu = (i,q,n) => {
  n=25000;
  if (i > n) return null;
  return Math.sin(i/200 - Math.sin(i/331)*Math.sin(i/61) + Math.sin(Math.sin(i/59)/39) * 33)*t(i,n)*(room > 3 ? 9 : 2);
}

// nudge Sound
nu = (i,q,n) => {
  n=6e3;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.01*Math.sin(0.009*i+Math.sin(i/200))+Math.sin(i/100))*q*q/10;
}

// scribble sound
wr = i => (Math.sin(i/200) + Math.sin(i/350) + Math.sin(i/800))* Math.exp(-i/60000)

// ting sound
ting = i => (i%10 < 5 ? 1 : -1) * Math.exp(-i/2000)

// open sound
op = (i,q,n) => {
  n=25000;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.001*Math.sin(0.009*i+Math.sin(i/200))+Math.sin(i/100))*q*q/10;
}

// Explosion Sound
ex = i => (Math.random() * 2 - 1) * Math.exp(-i/1e4);

// Step sound
step = (i,q,n) => {
  n=3800;
  if (i > n) return null;
  q = t(i,n);
  return Math.sin(i*0.01*Math.sin(0.001*i+Math.sin(i/200))+Math.sin(i/200))*q*q/9;
}

// Helper function
t=(i,n)=>(n-i)/n;

// Sound player
play = (f,r,A,m,b,i,s) => {
  A=new AudioContext()
  m=A.createBuffer(1,96e3,48e3)
  b=m.getChannelData(0)
  for(i=96e3;i--;)b[r?20000-i:i]=f(i)
  s=A.createBufferSource()
  s.buffer=m
  s.connect(A.destination)
  s.start()
}
</script>

<p><b>DEMO</b>
<p>
<button onclick="room=4;play(thu)">thunder (outside)</button> 
<button onclick="room=1;play(thu)">thunder (inside)</button> 
<button onclick="play(nu)">nudge</button> 
<button onclick="play(wr)">scribble</button> 
<button onclick="play(op)">open</button> 
<button onclick="play(op,1)">close</button> 
<button onclick="play(ex)">explosion</button> 
<button onclick="play(step);setTimeout('play(step)',300)">steps (same room)</button> 
<button onclick="play(step);setTimeout('play(step)',300);setTimeout('play(step)',600)">steps (change room)</button> 

<p>Note that the "close" sound is the "open" sound played in reverse. I adapted the sound player in order to achieve this effect. The "step" sound is played multiple times (2 when walking inside a room, 3 when changing rooms). The "thunder" sound is played at a lower volume when we are indoors.

<p>I added a third sound player found on StackOverflow just for the rain (a white noise generator):

<pre><code class="lang-js">// Rain
AA = new AudioContext();
bs = 4096;
wn = AA.createScriptProcessor(bs, 1, 1);
wn.onaudioprocess = (e,i,output) => {
  output = e.outputBuffer.getChannelData(0);
  for (i = 0; i < bs; i++) {
    output[i] = (Math.random() * 2 - 1)/((room > 3 || (room == 0 &&state[0].window == 1) || (room == 2 && (state[2].window == 1 || state[2].door4 == 1)))  ? 50 : 220);
  }
}
wn.connect(AA.destination);

// Stop rain
AA.close();</code></pre>

<script>
state = [];
state[0] = {window: 0 };

startrain = () => {
AA = new AudioContext();
bs = 4096;
wn = AA.createScriptProcessor(bs, 1, 1);
wn.onaudioprocess = (e,i,output) => {
  output = e.outputBuffer.getChannelData(0);
  for (i = 0; i < bs; i++) {
    output[i] = (Math.random() * 2 - 1)/((room > 3 || (room == 0 &&state[0].window== 1) || (room == 2 && (state[2].window== 1 || state[2].door4 == 1)))  ? 50 : 220);
  }
}
wn.connect(AA.destination);
}
</script>

<p><b>DEMO (click buttons from left to right)</b>
<p>
<button onclick="room=0;state[0].window=0;startrain();this.disabled=true">start rain (inside)</button> 
> <button onclick="room=0;state[0].window=1;this.disabled=true;">open window</button> 
> <button onclick="room=0;state[0].window=0;this.disabled=true;">close window</button> 
> <button onclick="room=4;this.disabled=true;">go outside</button> 
> <button onclick="AA.close();this.disabled=true;">stop rain</button> 

<p>I enjoyed changing the volume of the rain and thunder when they are heard inside the house depending on if the windows and/or entrance door are open or closed. It's a cool little detail for the most attentive players.

<p>And as if 3 different sound players were not enough, I completed the development of this entry by adding some music! I didn't have much time or bytes left, but I also knew that a complete game session would last at least 15+ minutes... so I naturally thought about <a href="https://www.youtube.com/watch?v=7aXwTPQQ1_U">Ravel's Bolero</a> (which also lasts for 15+ minutes).

<p>Instead of adding the entirety of the song in my code, I only extracted the first 45 seconds (about 140 notes) from a MIDI file, adjusted some notes and silences manually to make it sound good, and played them in a loop, but with a twist: at each loop, I play it two tones higher. It brings a bit of variety and the well-known crescendo effect for a relatively small price (900 bytes minified).

<pre><code class="lang-js">// Music

// Setup
A=new AudioContext,m=A.createBuffer(1,1e6,44100), 

// Notes
m0=[,,,,72,,,71,72,74,72,71,69,72,,72,69,72,,,71,72,69,67,64,65,67,,,65,64,62,64,65,67,69,67,,,69,71,69,67,65,64,62,64,62,60,,60,62,64,,65,,62,,,67,67,,,74,,,72,71,69,71,72,74,72,71,,,72,71,69,72,71,69,65,,65,65,65,,69,,72,69,71,67,65,,65,65,65,,69,,71,67,69,65,62,,62,60,62,,,62,62,62,,65,,69,65,67,64,62,,62,60,62,,,62,60,62,,64,65,67,,,65,64,62,60], 

// Generate the entire song with 30 loops
for(music=[],i=0;i<30;i++)for(j=0;j<143;j++)music.push(m0[j]?m0[j]-19+i*2:0);

// Piano synth
piano=(e,t,o,r,a,l,i,h,d)=>{for(v=[],c=0,r=(e,t,s,o)=>Math.sin(e/t*6.28*s+o),a=(e,t)=>Math.sin(e/44100*t*6.28+r(e,44100,t,0)**2+.75*r(e,44100,t,.25)+.1*r(e,44100,t,.5)),d=[],h=0;h<39690;h++)d[h]=(1-(h-88.2)/39601.8)*a(h,e)/5/5;m.getChannelData(0).set(d),s=A.createBufferSource(),s.buffer=m,s.connect(A.destination),s.start()},_n=0,

// Play
play_music=()=>{setInterval(()=>{_n++,music[_n]&&piano(440*1.06**(music[_n]-80))},350)}</code></pre>

<p>The song can be heard in this year's album <a href="https://js13k.bandcamp.com/album/13k-cat-bites">Cat Bites</a> (on track 5). Coincidence! The album's curator Joao also chose Ravel's Bolero for his entry, which you can hear on track 4. His Bolero has a very different style (seesaw wave, no crescendo, 2 tracks), and I like it a lot too!

<p><iframe style="border: 0; width: 350px; height: 786px;" src="https://bandcamp.com/EmbeddedPlayer/album=3336566082/size=large/bgcol=ccc/linkcol=0f91ff/transparent=true/" seamless><a href="https://js13k.bandcamp.com/album/13k-cat-bites">13K Cat Bites de Various artists</a></iframe>

<p>Speaking of sound, I have considered playing a little audio cue every time an achievement is done, and even implemented it, but quickly found it too repetitive and annoying. So I made the (bold?) choice to not tell anything to the players until they go back to sleep to see their score. It's one of the main complaints I received in the feedbacks, but I prefer it like that, so I guess I shouldn't have regrets.

<p>During the last days of the jam, a few close friends playtested the game and helped me fix a few bugs (there are still a few bugs in the final release but whatever, almost no one will see them).

<p>Thanks to <a href="https://lifthrasiir.github.io/roadroller/">Roadroller</a> and <a href="https://xem.github.io/js13k-pack/">js13k-pack</a>, almost no golfing was required to fit into 13kb (I only took ~30 minutes reducing the name of some variables and functions to one or two chars, and it was good)!

<p>However, someone pointed to me that my tool <b>js13k-pack</b> only roadrolled the JS code, which was non-optimal. I modified it after the jam to also allow roadrolling the HTML code and the CSS code, while allowing a little chunk of HTML (doctype, title, meta tags) to stay uncompressed if the user desires so.

<p>And speaking of CSS, I also realized that using my own CSS minifier wasn't optimal either. I passed my CSS code into a CSS compressor that rewrote and reordered my CSS rules and it saved about 1kb minified. Wow! I'll try to add something like into js13k-pack for next year.

<p>Anyway. Here's a map of my minified code (click to enlarge):

<p><a href="images/js13k25/code.png"><img src="images/js13k25/code.png"></a>

<p>And the roadrolled code:

<p><a href="images/js13k25/code2.png"><img src="images/js13k25/code2.png"></a>


<p>Here are some stats about my byte budget on day 30:
<ul>
<li>Commented code: 85.3kb (2203 lines of code)
<li>Minified code: 69kb (a third of this size is used by SVGs)
<li>Zipped: 17kb
<li>Roadrolled + zipped: 12.7kb... Hey, we still have some free bytes! I could have added even more stuff if I had the time and the energy! ...
</ul>

<p>... But it was enough for me. I was happy with the result and submitted my entry a few hours before the deadline.

<p>I still didn't know if people would find it fun, but at least I released something. Yayyy!

<p>P.S.: to be honest, I checked the "mobile" category when I released it but never played it on mobile nor optimize it whatsoever. I just made sure that the game started correctly on my phone and removed the blue tap highlights, however I didn't even add the correct meta-tags (I think I didn't have enough space for them). I learned later that the game is not completable at 100% on mobile because some actions don't work. Oops!

<p>P.S. 2: this year, for the first time since 2017 (I think), my game doesn't rely on cross-browser emoji at all (only the game's favicon uses a native emoji), so I didn't load an emoji font fallback. There's a font fallback that I do load however, and it's called Anton. <a href="https://fonts.google.com/specimen/Anton">It's the closest font to Impact that I could find on Google Fonts</a>. The game is obviously still playable offline, and will fallback to Impact or Fantasy if Anton can't be loaded.

<pre><code class="lang-css">@import url('https://fonts.googleapis.com/css2?family=Anton&display=swap');
#title { font: 145px / 139px Anton, impact, fantasy; }</code></pre>

<br><br><hr>

<p><b>Feedbacks</b>

<p>For the first time EVER, I left a note and wrote a feedback for ALL the entries submitted to the jam, after playing each of them for a couple minutes.

<p>A list of my 24 absolute favourites is available <a href="https://x.com/MaximeEuziere/status/1967939026868113643">on X</a> or in the list below:

<details><summary>See the list</summary>

<ul>
<li>Clawstrike by @remvst
: <a href="https://js13kgames.com/games/clawstrike">https://js13kgames.com/games/clawstrike</a>

<li>Celestial Paws: <a href="https://js13kgames.com/games/celestial-paws">https://js13kgames.com/games/celestial-paws</a>

<li>Pawfect Stack by @AdrienGueret
: <a href="https://js13kgames.com/games/pawfect-stack-oracle-of-chaos">pawfect-stack-oracle-of-chaos</a>
+ 
<a href="https://js13kgames.com/games/pawfect-stack-oracle-of-order">pawfect-stack-oracle-of-order</a>

<li>Gravity Cat: <a href="https://js13kgames.com/games/gravity-cat">https://js13kgames.com/games/gravity-cat</a>

<li>Roni and Kira by @ostjh
: <a href="https://js13kgames.com/games/roni-and-kira">https://js13kgames.com/games/roni-and-kira</a>

<li>Triska the ninja cat by @ReitGames
: <a href="https://js13kgames.com/games/triska-the-ninja-cat">https://js13kgames.com/games/triska-the-ninja-cat</a>

<li>Edgar's mission: <a href="https://js13kgames.com/games/edgars-mission">https://js13kgames.com/games/edgars-mission</a>

<li>Whiskers Witch Adventure by @rob_louie
: <a href="https://js13kgames.com/games/whiskers-witch-adventure">https://js13kgames.com/games/whiskers-witch-adventure</a>

<li>Midnight's Journey: <a href="https://js13kgames.com/games/midnights-journey">https://js13kgames.com/games/midnights-journey</a>

<li>The Black Cat's Escape: <a href="https://js13kgames.com/games/the-black-cats-escape">https://js13kgames.com/games/the-black-cats-escape</a>

<li>Miami Mice: <a href="https://js13kgames.com/games/miami-mice">https://js13kgames.com/games/miami-mice</a>

<li>Witchcat: <a href="https://js13kgames.com/games/witchcat">https://js13kgames.com/games/witchcat</a>

<li>Worms 13k: <a href="https://js13kgames.com/games/worms-13k">https://js13kgames.com/games/worms-13k</a>

<li>Pacific Black Cats by @tamat
: <a href="https://js13kgames.com/games/pacific-black-cats">https://js13kgames.com/games/pacific-black-cats</a>

<li>Cat-apult: <a href="https://js13kgames.com/games/cat-apult">https://js13kgames.com/games/cat-apult</a>

<li>Echoes of Nyx @CorentinPillet
: <a href="https://js13kgames.com/games/echoes-of-nyx">https://js13kgames.com/games/echoes-of-nyx</a>

<li>Alley Kitty @GaborHeja
: <a href="https://js13kgames.com/games/alley-kitty">https://js13kgames.com/games/alley-kitty</a>

<li>Meow mountain @mrlopis
: <a href="https://js13kgames.com/games/meow-mountain">https://js13kgames.com/games/meow-mountain</a>

<li>L1ttl3 Paws @KilledByAPixel
: <a href="https://js13kgames.com/games/l1ttl3-paws">https://js13kgames.com/games/l1ttl3-paws</a>

<li>Yarn Run @CarelessLabs
: <a href="https://js13kgames.com/games/yarn-run">https://js13kgames.com/games/yarn-run</a>

<li>Onamazu: <a href="https://js13kgames.com/games/onamazu">https://js13kgames.com/games/onamazu</a>

<li>Kittens United: <a href="https://js13kgames.com/games/kittens-united">https://js13kgames.com/games/kittens-united</a>

<li>Non-Mewtonian Cat by @rotttencandy
: <a href="https://js13kgames.com/games/non-mewtonian-cat">https://js13kgames.com/games/non-mewtonian-cat</a>


</ul>

</details>

<p>Some people were very pleased to get a feedback from me, which is always fun and surprising :D

<p><img src="images/js13k25/o7.png" width=500>

<p>Here are the feedbacks I received on my entry:

<ul>

<li>It was very interesting to discover the world that you built and see what you can do. Was thinking at some point if put a ladder next to the wall — I can get to the roof :D The idea is very unusual and feels very innovative. Slightly reminded me old picture based puzzle games :) And the sounds and music very nice! Good job! <b>Aleksey Litvinov</b>
<li>Absolutely mind-blowing what you packed into 13 KB! The graphics, audio, and the entire point-and-click adventure mechanic in under the limit is insane. I never thought something like this was possible at this size. The superstition concept is super creative and unique. Only managed 8 out of 26 on my first try - some objectives were hard to figure out without more hints, but that’s part of the challenge I guess! The art style is gorgeous and the sound design fits perfectly. One of the most impressive technical achievements I’ve seen in this jam. Incredible work! <b>Kisimedia.de</b>
<li>Great job fitting so much content within the size limit! The game is pretty unique with the perspective and the point-and-click concept, I don’t think I’ve seen another game like this in the compo. I feel like it’s risky to make something so dependent on cultural norms though, I found myself pretty much just randomly clicking on things eventually in hopes of triggering something because most of these superstitions were completely foreign to me, so I had no chance of figuring them out naturally. We just had different ones where I grew up I guess. I wish the game had some hints, at least in the game description and indicated somehow when I successfully found one. Other than that, the game is superbly done on a technical level, works and looks great! Very good job, congrats! <b>Attila Horváth</b>
<li>Really interesting concept! The music and sounds fit the game very well. I was only able to complete 9 objectives in total, but it was fun and I loved the game design. <b>smiley405</b>
<li>Probably one of the most unique games from this game jam. Nice graphics and good background music. I managed to get 20 out of 26 superstitions, not too bad. I heard a cat, but I didn’t see it so I am not sure it was black or not (most likely yes!). Thanks for your entry, I had a good time playing it. <b>Noël Meudec</b>
<li>Great game and interesting graphics - fun times <b>Andrew Higson-Smith</b>
<li>Fun game! Was this all done using SVG graphics? I would like to get feedback when I’ve done something which causes bad luck so that I know how I am progressing. <b>Björn Ritzl</b>
<li>🔮 Great game — the ideas are very good! I didn’t know all the superstitions, but the interaction and point-and-click mechanics are really well made and intuitive. The top-down view even reminded me of Twelve Minutes. <b>Jonathan Vallet</b>
<li>So impressive to get all this into 13k, well fit for the theme and who doesn’t love some point-and-click action? ^^ <b>cykelkatalogen</b>
<li>Your game is totally hard for me (I don’t know any superstitions), but it’s very well designed, organised and programmed :) Congratulation! Point and click games are one of my favorites! <b>Kamil Żurek</b>
<li>The graphics are amazing. Surprising amount of stuff packed into this. I love a good puzzle game. Something weird happens when I click “Play” there must be a weird interaction between the game and the js13k website: The background flickers in and out but then it settles. <b>Tiago Correia</b>
<li>The perspective with all four walls visible is unusual, but works well. But in some cases it seems incorrect or at least awkward. E.g. in the bedroom the mirror looks very strange. Also the direction of the left leg of the desk seems to go into the wrong direction (I’d expect all lines perpendicular to the floor to meet in the center of the projection). And I assume you messed up the encoding in the favicon, at least I see there a ðŸ. <b>Michael M.</b>
<li>It is a great idea with nice execution and a lot of content - sometimes it even feels a bit too much :) It would be nice to have some feedback when a goal is completed, maybe even have the list available in the game somewhere (so you could decide to pick it up and read it if you want to). Overall, great use of vector graphics and interactivity, I had fun playing it and trying to find as many of the superstitions by myself as I can - I got to around 17 (2 by mistake?) and I learned a lot of new ones. (SPOILERS: for some reason the ladder one was not registered for me, and also it must be a really hard mirror to break the hatchet too :D) <b>Gabor Héja</b>
<li>Hah, this is great. At first I wasn’t sure if I would like it, but it really drew me in! Like any good point-and-click, it does involve lots of clicking on everything, but the puzzles are so well hidden and thought out that it’s not enough to just click mindlessly and hope for the best. I managed to get 16/26, although some of those were pure luck. Others were fully intentional, though–I was proud of myself when I managed to pull off the ladder one (not saying what it was to avoid spoilers). The simple graphics work really well and remind me of The Kingdom of Loathing a bit, except for the top-down view. Overall, I was impressed by how much detail and content there is, for example how you animate things like pulling up a chair. I also had a good laugh when I opened the umbrella and my little guy disappeared underneath it completely. <b>Stanisław Małolepszy</b>
<li>pretty innovative game well done! I would suggest a little tutorial at first because I was stuck with the umbrella. But that the point of a point and click puzzle game I guess! <b>nihdao</b>
<li>What a cool adventure game! So many options, it was like a collection of miniature puzzles where you mostly had to do one thing to each object, a brainstorm session of unlucky activities. What a good idea for a game, and it fits the theme perfectly. There were tons of superstitions that I’d never heard of before! I really liked the opening and closing cinematics of the foot and title, that was very stylish. The music didn’t fit the game and seemed to trivialize the feel for me, somehow, I think it was just the wrong choice of song. I wish it was a different, more sinister-sounding song, or even just some night wind howling or wooshes instead, or some unlucky sounding chords and dissonance rather. But the music wasn’t the point, and it was fine, that’s a very minor aesthetic opinion. The best part of the game was all the cool interactions. I had tons of fun clicking everything! Amazing work!! <b>Christer Kaitila</b>
<li>I thought I was doing pretty good when I went to sleep, only to find out I was at 11/26 haha. Very different fun take on the theme. Minor suggestions: it’d be nice to give a little bit more indication of what is happening, I was getting PTSD from the old point-and-click adventure games where you just start mashing on everything in every room. Maybe e.g. an icon if it’s a thing you can pick up (like bread), whereas if it’s a place to put bread down, hovering over it could show a little bread next to your pointer. Something like that. All in all, fun and inventive! <b>Elliot Nelson</b>
<li>I need more tutorial, I feel confuse when I start game. Good game and great idea, An innovative attempt at decoding games once again, with excellent graphics and music. <b>skyatmoon</b>
<li>Nice graphics, music and sounds. Very original idea, a unique take on the black cat theme. I heard its meow but couldn’t find the cat. At first I wasn’t sure what to do, having superstitions available in a popup list would help. Even after checking the list, I couldn’t accomplish some of them. Since my own game is also SVG-based and looks fine on Firefox, I’m curious what issue you ran into that caused it to appear blurry. On mobile, when in portrait mode, the game was too small, it took me a while to realize I could zoom in. <b>Can Altıparmak</b>
<li>I got 14/26. Cool game to play, but all I did was just random clicking on things hoping it helps. Definitely some tips would be welcomed. <b>Jan Krupiński</b>
<li>I love the idea of fulfilling superstitions and how the game mixes weird/unlucky events with a quirky vibe. The randomness keeps things fun and unexpected, but sometimes it feels like things are a bit too chaotic to predict what comes next. <b>Gleb Volkov</b>
<li>Really nice idea, I got 11, guessed a few of the others but did not quite know how to acocmlish them, like walking under the ladder. I picked it up but couldnt put it back down! Great entry! <b>Ryan Tyler</b>
<li>Very innovative gameplay, I think it’s the only “Black cat” game without a black cat (maybe because I didn’t cross the one you are supposed to see, I only got a 13/26 score). I like how you use the belief part of the theme, not just the cat part. It’s what I wante to o at first, but I never found the right idea, congratulations because I fin it very original an well executed. Nice music to set the mood, and very clever challenges, I only got half of them because I don’t know much about superstition but they are very clever <b>Romain Arnaud</b>
<li>Rare games that really wants me to try to the end. Or when you really don’t know what else to do with the items. Nice animations and atmosphere. By theme, the black cat should been more in focus, though. <b>Sami Heikkinen</b>
<li>I got 12/26! Wearing green is bad luck!? This was very unique and amusing! By the end of the game, I was just walking around my house with an open umbrella. I really like the graphics. Of course I’ve played top-down games before, but never with this sort of skewed perspective. It’s very cool! One thing that might be made more clear– I wasn’t immediately aware that I could move freely around the rooms. I thought I was just supposed to click various items. (I only realized I could move by misclicking.) I’m also curious– that’s Ravel’s Bolero, right? How come? Haha! Overall very impressive and original entry! Nice job! <b>Benjamin Boyd Austin</b>
<li>Well done implementing such highly detailed visuals elements in such a small size. The audio is also very high quality. The gameplay leaves a very strong first impression visually, but that impression doesn’t hold up for me once I started playing. The SVG artwork looks ambitious and stylish at a glance, yet it comes across blurry depending on the browser, which makes the presentation feel unfinished. The visuals set a high expectation of depth and polish, but the actual gameplay is extremely simple and quickly gets cheated after you first decide to sleep. Instead of discovering mechanics naturally, you’re left guessing at obscure superstitions, most of which are unfamiliar and confusing just to get them all spoiled at the end. This undermines the sense of fun and replaces it with frustration, because the only way forward is to consult a list that reads more like a trivia. I was able to memorize and find most of the list in just a few minutes after reading it. Really good job on the sounds and theme the game was pretty fun the first few times around :) <b>Jake Turner</b>
<li>Exquisitely thematic. Gameplay and graphics are reminiscent of some long-gone Flash games, so I couldn’t help but feel a bit of nostalgia… all while playing a brand new game–the contradictions! Amazing entry and good use of the space available. Congrats <b>Federico Tibaldo</b>
<li>I really like the way you have respect the theme by the use of superstition. The music is a good choice for the game and the sound effects are funny. I have been surprised by the miaou the first time. Graphism are simple but very clear. <b>sdeseille</b>
<li>This was a cool concept! It was amazing that you got it to 13kb! I got 10 / 26 on my playthough. The problem was that I dont know much of superstitions so I just went around and clicked on things and hoped it was a superstition. <b>Daivan Trinh</b>
<li>Interesting concept! I missed some way to know I’m having a bad day. Something to tell me I’m progressing in the game. Loved that I can double click to zoom on mobile. BTW I noticed that the menu doesn’t render on click if the screen is not expanded, only if I zoom in. I can see how much work you had, very solid entry! Congrats. <b>Michel Sabchuk</b>
<li>took me a while to understand how things work, the intro and graphics are well done and effort is shown in every aspect of the game, sound and music, the gameplay, great work <b>Mohammad Jawad</b>
<li>Funny idea, and amazed that you managed to create so much art in 13KBs. Btw, I did the walk below the stairs but it didnt register :/ I feel there should be a sound when one goal is completed, to guide the player, or even displaying the string. Also, most of the puzzles are just directly in the action to perform, the good ones are the ones you had to use your own creativity (loved the mirrors and the umbrella) anyway, a refreshing entry, great work <b>Javi Agenjo</b>
<li>Wow this one was amazing, got me hooked trying to find all the superstitions although I don’t really knew most of them. Awesome graphics and sound, really one of my fav entries this year. <b>Camilo Ramírez</b>
<li>I had a ton of fun playing this game. And for everyone who didn’t know, the checklist is there when you sleep/check score. Excellent use of SVGs btw. I looks very nice and unique. Can’t believe you’ve packed in so much in under 13kb! <b>F肯尼</b>
<li>Some tips/checklist would be great. I’m not superstitios enough to figre 26 bad luck signs. <b>Alexander Petrov</b>
<li>I always love a point & click adventure, the art and color scheme is really pleasant. The live changing weather is very impressive. And it’s funny how these actions considered unlucky are so widespread, I recognized some of those and never expected them to be known outside of my culture. <b>Mohammed Saud</b>
<li>Ha, a nice little point’n’click adventure. I think Knife is the singular and knives the plural ;)  Man you packed a heap in there, great job as usual! <b>Cliff Earl</b>
<li>It’s amazing how much you were able to pack into this and be under the 13KB limit. I really like the idea, only a few times I felt like I was clicking on things at random to see what I could interact with (but I think that happens in many point and click games at times, the game can’t tell the player every single thing they should do) but it was fun to try to figure things out! <b>Anthony Cosgrave</b>
<li>Very original concept. Personally like point’n’click games. On mobile elements are small (yes, I would zoom in, but sometimes game just stuck in some point). Thank you for the fun! Great work! Waiting for post-mortem ;) <b>Elias Ku</b>
</ul>

<p>

<br><br><hr>

<p><b>Videos</b>

<p>To my knowledge, only Dobuki Gamer played my entry in a video, thanks to him:

<p><iframe width="560" height="315" src="https://www.youtube.com/embed/3qyM-1ISA7w?si=ctEIML9LFUH8als6&amp;start=775" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


<br><br><hr>

<p><b>Conclusion</b>

<p>My game arrived 17th overall and 12th on mobile, which is great!
<p>The details of the votes show a very high score in innovation too, yay!
<p><img src="images/js13k25/o8.png">
<p>My entry appeared in the <a href="https://js13kgames.com/2025/blog/criteria-rankings">2025 criteria rankings</a> and I also broke two other records: <a href="https://bacionejs.github.io/stuff/games.html">I made the most js13k entries ever</a> (17, even though I missed the first two years) and <a href="https://js13kgames.com/2025/results/voters.json">I left the most feedbacks this year</a>!
<p>I think I'll continue making only one entry per year and focusing on the wow effect (2D+3D, lots of graphics, music and sound effects). It seems to work better like that :)
<p>My biggest pride this year is that I managed to include a lot of brand new things in my entry (a ton of custom graphics, 4 kinds of sounds, a 15+ minutes long song, a day-night cycle with weather and clock events...)!
<p>My only tiny regret is that I didn't make it more visible somehow when a goal is completed, and didn't tell the player that it's possible to walk inside the rooms and that the black cat passes outside at 13h13...
<p>Besides that, stay tuned because I think I'll try to make a heavily compressed word game in the future, as I saw that @senokay (the creator of RoadRoller and <a href="https://js1024.fun/demos/2022/18">epyt</a> (see the <a href="https://js1024.fun/demos/2022/18/source">readme</a> too)) released <a href="https://gist.github.com/lifthrasiir/1c7f9c5a421ad39c1af19a9c4f060743">a HTML compressor based on Brotli's dictionnary</a>... which is super interesting!
<p>See you soon, and thanks to everyone who contributed, tested, played, commented and voted for my game, plus <b>end3r</b> and <b>alkor</b> for the organization and the website! 💙
<p><b>Xem</b>

<br><br><br>
<p>P.S: as mentioned earlier, I released and announced js13k-pack version 2.0 with a lot of improvements a few days after the end of the votes:

<p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Performance improvements:<br>- CSS is compressed (optimized), not just minified.<br>- Roadrolled code now includes HTML, JS and CSS code (except the HTML prefix that can be used for doctype, title, meta tags...)<br><br>My 2023 entry lost 400 bytes between 1.0 and 2.0.<br>My 2024 entry lost 200b</p>&mdash; xem 🔵‏ (@MaximeEuziere) <a href="https://twitter.com/MaximeEuziere/status/1977774747606757685?ref_src=twsrc%5Etfw">October 13, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 



</main>

</div>

<footer></footer>

<script src="../ui.js?v=2024-07"></script>
<script>
header();
footer();
menu();
</script>
<style>
.inline, .inline * { display: inline; padding: 2px !important; }</style>
</body>
</html>